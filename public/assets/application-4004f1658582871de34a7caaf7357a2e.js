/*!
 * jQuery JavaScript Library v2.0.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-30T21:25Z
 */
function BestInPlaceEditor(t){this.element=t,this.initOptions(),this.bindForm(),this.initNil(),jQuery(this.activator).bind("click",{editor:this},this.clickHandler)}!function(t,e){function n(t){var e=t.length,n=se.type(t);return se.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t){var e=pe[t]={};return se.each(t.match(ae)||[],function(t,n){e[n]=!0}),e}function r(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=se.expando+Math.random()}function s(t,n,i){var r;if(i===e&&1===t.nodeType)if(r="data-"+n.replace(ye,"-$1").toLowerCase(),i=t.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ve.test(i)?JSON.parse(i):i}catch(s){}me.set(t,n,i)}else i=e;return i}function o(){return!0}function a(){return!1}function c(){try{return V.activeElement}catch(t){}}function l(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t,e,n){if(se.isFunction(e))return se.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return se.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Pe.test(e))return se.filter(e,t,n);e=se.filter(e,t)}return se.grep(t,function(t){return ee.call(e,t)>=0!==n})}function h(t,e){return se.nodeName(t,"table")&&se.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=Re.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function p(t,e){for(var n=t.length,i=0;n>i;i++)ge.set(t[i],"globalEval",!e||ge.get(e[i],"globalEval"))}function m(t,e){var n,i,r,s,o,a,c,l;if(1===e.nodeType){if(ge.hasData(t)&&(s=ge.access(t),o=ge.set(e,s),l=s.events)){delete o.handle,o.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)se.event.add(e,r,l[r][n])}me.hasData(t)&&(a=me.access(t),c=se.extend({},a),me.set(e,c))}}function g(t,n){var i=t.getElementsByTagName?t.getElementsByTagName(n||"*"):t.querySelectorAll?t.querySelectorAll(n||"*"):[];return n===e||n&&se.nodeName(t,n)?se.merge([t],i):i}function v(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Me.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function y(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=Ze.length;r--;)if(e=Ze[r]+n,e in t)return e;return i}function b(t,e){return t=e||t,"none"===se.css(t,"display")||!se.contains(t.ownerDocument,t)}function x(e){return t.getComputedStyle(e,null)}function w(t,e){for(var n,i,r,s=[],o=0,a=t.length;a>o;o++)i=t[o],i.style&&(s[o]=ge.get(i,"olddisplay"),n=i.style.display,e?(s[o]||"none"!==n||(i.style.display=""),""===i.style.display&&b(i)&&(s[o]=ge.access(i,"olddisplay",E(i.nodeName)))):s[o]||(r=b(i),(n&&"none"!==n||!r)&&ge.set(i,"olddisplay",r?n:se.css(i,"display"))));for(o=0;a>o;o++)i=t[o],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?s[o]||"":"none"));return t}function _(t,e,n){var i=ze.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function k(t,e,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===e?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=se.css(t,n+Je[s],!0,r)),i?("content"===n&&(o-=se.css(t,"padding"+Je[s],!0,r)),"margin"!==n&&(o-=se.css(t,"border"+Je[s]+"Width",!0,r))):(o+=se.css(t,"padding"+Je[s],!0,r),"padding"!==n&&(o+=se.css(t,"border"+Je[s]+"Width",!0,r)));return o}function T(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,s=x(t),o=se.support.boxSizing&&"border-box"===se.css(t,"boxSizing",!1,s);if(0>=r||null==r){if(r=qe(t,e,s),(0>r||null==r)&&(r=t.style[e]),Xe.test(r))return r;i=o&&(se.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+k(t,e,n||(o?"border":"content"),i,s)+"px"}function E(t){var e=V,n=Ye[t];return n||(n=C(t,e),"none"!==n&&n||(We=(We||se("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(We[0].contentWindow||We[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=C(t,e),We.detach()),Ye[t]=n),n}function C(t,e){var n=se(e.createElement(t)).appendTo(e.body),i=se.css(n[0],"display");return n.remove(),i}function S(t,e,n,i){var r;if(se.isArray(e))se.each(e,function(e,r){n||en.test(t)?i(t,r):S(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==se.type(e))i(t,e);else for(r in e)S(t+"["+r+"]",e[r],n,i)}function P(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,s=e.toLowerCase().match(ae)||[];if(se.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function I(t,e,n,i){function r(a){var c;return s[a]=!0,se.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||o||s[l]?o?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),c}var s={},o=t===bn;return r(e.dataTypes[0])||!s["*"]&&r("*")}function N(t,n){var i,r,s=se.ajaxSettings.flatOptions||{};for(i in n)n[i]!==e&&((s[i]?t:r||(r={}))[i]=n[i]);return r&&se.extend(!0,t,r),t}function $(t,n,i){for(var r,s,o,a,c=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),r===e&&(r=t.mimeType||n.getResponseHeader("Content-Type"));if(r)for(s in c)if(c[s]&&c[s].test(r)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}a||(a=s)}o=o||a}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function A(t,e,n,i){var r,s,o,a,c,l={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(s=u.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=u.shift())if("*"===s)s=c;else if("*"!==c&&c!==s){if(o=l[c+" "+s]||l["* "+s],!o)for(r in l)if(a=r.split(" "),a[1]===s&&(o=l[c+" "+a[0]]||l["* "+a[0]])){o===!0?o=l[r]:l[r]!==!0&&(s=a[0],u.unshift(a[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+c+" to "+s}}}return{state:"success",data:e}}function O(){return setTimeout(function(){Pn=e}),Pn=se.now()}function j(t,e,n){for(var i,r=(jn[e]||[]).concat(jn["*"]),s=0,o=r.length;o>s;s++)if(i=r[s].call(n,e,t))return i}function D(t,e,n){var i,r,s=0,o=On.length,a=se.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=Pn||O(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,s=1-i,o=0,c=l.tweens.length;c>o;o++)l.tweens[o].run(s);return a.notifyWith(t,[l,s,n]),1>s&&c?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:se.extend({},e),opts:se.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Pn||O(),duration:n.duration,tweens:[],createTween:function(e,n){var i=se.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?a.resolveWith(t,[l,e]):a.rejectWith(t,[l,e]),this}}),u=l.props;for(M(u,l.opts.specialEasing);o>s;s++)if(i=On[s].call(l,t,u,l.opts))return i;return se.map(u,j,l),se.isFunction(l.opts.start)&&l.opts.start.call(t,l),se.fx.timer(se.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function M(t,e){var n,i,r,s,o;for(n in t)if(i=se.camelCase(n),r=e[i],s=t[n],se.isArray(s)&&(r=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),o=se.cssHooks[i],o&&"expand"in o){s=o.expand(s),delete t[i];for(n in s)n in t||(t[n]=s[n],e[n]=r)}else e[i]=r}function H(t,n,i){var r,s,o,a,c,l,u=this,h={},d=t.style,f=t.nodeType&&b(t),p=ge.get(t,"fxshow");i.queue||(c=se._queueHooks(t,"fx"),null==c.unqueued&&(c.unqueued=0,l=c.empty.fire,c.empty.fire=function(){c.unqueued||l()}),c.unqueued++,u.always(function(){u.always(function(){c.unqueued--,se.queue(t,"fx").length||c.empty.fire()})})),1===t.nodeType&&("height"in n||"width"in n)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===se.css(t,"display")&&"none"===se.css(t,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",u.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(r in n)if(s=n[r],Nn.exec(s)){if(delete n[r],o=o||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!p||p[r]===e)continue;f=!0}h[r]=p&&p[r]||se.style(t,r)}if(!se.isEmptyObject(h)){p?"hidden"in p&&(f=p.hidden):p=ge.access(t,"fxshow",{}),o&&(p.hidden=!f),f?se(t).show():u.done(function(){se(t).hide()}),u.done(function(){var e;ge.remove(t,"fxshow");for(e in h)se.style(t,e,h[e])});for(r in h)a=j(f?p[r]:0,r,u),r in p||(p[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function B(t,e,n,i,r){return new B.prototype.init(t,e,n,i,r)}function R(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Je[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function F(t){return se.isWindow(t)?t:9===t.nodeType&&t.defaultView}var L,q,W=typeof e,U=t.location,V=t.document,z=V.documentElement,X=t.jQuery,Q=t.$,Y={},K=[],G="2.0.2",J=K.concat,Z=K.push,te=K.slice,ee=K.indexOf,ne=Y.toString,ie=Y.hasOwnProperty,re=G.trim,se=function(t,e){return new se.fn.init(t,e,L)},oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=/\S+/g,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,le=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ue=/^-ms-/,he=/-([\da-z])/gi,de=function(t,e){return e.toUpperCase()},fe=function(){V.removeEventListener("DOMContentLoaded",fe,!1),t.removeEventListener("load",fe,!1),se.ready()};se.fn=se.prototype={jquery:G,constructor:se,init:function(t,n,i){var r,s;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ce.exec(t),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(r[1]){if(n=n instanceof se?n[0]:n,se.merge(this,se.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:V,!0)),le.test(r[1])&&se.isPlainObject(n))for(r in n)se.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}return s=V.getElementById(r[2]),s&&s.parentNode&&(this.length=1,this[0]=s),this.context=V,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):se.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),se.makeArray(t,this))},selector:"",length:0,toArray:function(){return te.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=se.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return se.each(this,t,e)},ready:function(t){return se.ready.promise().done(t),this},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(se.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},se.fn.init.prototype=se.fn,se.extend=se.fn.extend=function(){var t,n,i,r,s,o,a=arguments[0]||{},c=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},c=2),"object"==typeof a||se.isFunction(a)||(a={}),l===c&&(a=this,--c);l>c;c++)if(null!=(t=arguments[c]))for(n in t)i=a[n],r=t[n],a!==r&&(u&&r&&(se.isPlainObject(r)||(s=se.isArray(r)))?(s?(s=!1,o=i&&se.isArray(i)?i:[]):o=i&&se.isPlainObject(i)?i:{},a[n]=se.extend(u,o,r)):r!==e&&(a[n]=r));return a},se.extend({expando:"jQuery"+(G+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===se&&(t.$=Q),e&&t.jQuery===se&&(t.jQuery=X),se},isReady:!1,readyWait:1,holdReady:function(t){t?se.readyWait++:se.ready(!0)},ready:function(t){(t===!0?--se.readyWait:se.isReady)||(se.isReady=!0,t!==!0&&--se.readyWait>0||(q.resolveWith(V,[se]),se.fn.trigger&&se(V).trigger("ready").off("ready")))},isFunction:function(t){return"function"===se.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?Y[ne.call(t)]||"object":typeof t},isPlainObject:function(t){if("object"!==se.type(t)||t.nodeType||se.isWindow(t))return!1;try{if(t.constructor&&!ie.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||V;var i=le.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=se.buildFragment([t],e,r),r&&se(r).remove(),se.merge([],i.childNodes))},parseJSON:JSON.parse,parseXML:function(t){var n,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,n=i.parseFromString(t,"text/xml")}catch(r){n=e}return(!n||n.getElementsByTagName("parsererror").length)&&se.error("Invalid XML: "+t),n},noop:function(){},globalEval:function(t){var e,n=eval;t=se.trim(t),t&&(1===t.indexOf("use strict")?(e=V.createElement("script"),e.text=t,V.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ue,"ms-").replace(he,de)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,s=0,o=t.length,a=n(t);if(i){if(a)for(;o>s&&(r=e.apply(t[s],i),r!==!1);s++);else for(s in t)if(r=e.apply(t[s],i),r===!1)break}else if(a)for(;o>s&&(r=e.call(t[s],s,t[s]),r!==!1);s++);else for(s in t)if(r=e.call(t[s],s,t[s]),r===!1)break;return t},trim:function(t){return null==t?"":re.call(t)},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?se.merge(i,"string"==typeof t?[t]:t):Z.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:ee.call(e,t,n)},merge:function(t,n){var i=n.length,r=t.length,s=0;if("number"==typeof i)for(;i>s;s++)t[r++]=n[s];else for(;n[s]!==e;)t[r++]=n[s++];return t.length=r,t},grep:function(t,e,n){var i,r=[],s=0,o=t.length;for(n=!!n;o>s;s++)i=!!e(t[s],s),n!==i&&r.push(t[s]);return r},map:function(t,e,i){var r,s=0,o=t.length,a=n(t),c=[];if(a)for(;o>s;s++)r=e(t[s],s,i),null!=r&&(c[c.length]=r);else for(s in t)r=e(t[s],s,i),null!=r&&(c[c.length]=r);return J.apply([],c)},guid:1,proxy:function(t,n){var i,r,s;return"string"==typeof n&&(i=t[n],n=t,t=i),se.isFunction(t)?(r=te.call(arguments,2),s=function(){return t.apply(n||this,r.concat(te.call(arguments)))},s.guid=t.guid=t.guid||se.guid++,s):e},access:function(t,n,i,r,s,o,a){var c=0,l=t.length,u=null==i;if("object"===se.type(i)){s=!0;for(c in i)se.access(t,n,c,i[c],!0,o,a)}else if(r!==e&&(s=!0,se.isFunction(r)||(a=!0),u&&(a?(n.call(t,r),n=null):(u=n,n=function(t,e,n){return u.call(se(t),n)})),n))for(;l>c;c++)n(t[c],i,a?r:r.call(t[c],c,n(t[c],i)));return s?t:u?n.call(t):l?n(t[0],i):o},now:Date.now,swap:function(t,e,n,i){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];r=n.apply(t,i||[]);for(s in e)t.style[s]=o[s];return r}}),se.ready.promise=function(e){return q||(q=se.Deferred(),"complete"===V.readyState?setTimeout(se.ready):(V.addEventListener("DOMContentLoaded",fe,!1),t.addEventListener("load",fe,!1))),q.promise(e)},se.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()}),L=se(V),/*!
 * Sizzle CSS Selector Engine v1.9.4-pre
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-27
 */
function(t,e){function n(t,e,n,i){var r,s,o,a,c,l,u,h,d,f;if((e?e.ownerDocument||e:U)!==M&&D(e),e=e||M,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(B&&!i){if(r=ke.exec(t))if(o=r[1]){if(9===a){if(s=e.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(o))&&q(e,s)&&s.id===o)return n.push(s),n}else{if(r[2])return re.apply(n,e.getElementsByTagName(t)),n;if((o=r[3])&&S.getElementsByClassName&&e.getElementsByClassName)return re.apply(n,e.getElementsByClassName(o)),n}if(S.qsa&&(!R||!R.test(t))){if(h=u=W,d=e,f=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(l=m(t),(u=e.getAttribute("id"))?h=u.replace(Ce,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",c=l.length;c--;)l[c]=h+g(l[c]);d=ve.test(t)&&e.parentNode||e,f=l.join(",")}if(f)try{return re.apply(n,d.querySelectorAll(f)),n}catch(p){}finally{u||e.removeAttribute("id")}}}return T(t.replace(pe,"$1"),e,n,i)}function i(t){return _e.test(t+"")}function r(){function t(n,i){return e.push(n+=" ")>I.cacheLength&&delete t[e.shift()],t[n]=i}var e=[];return t}function s(t){return t[W]=!0,t}function o(t){var e=M.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e,n){t=t.split("|");for(var i,r=t.length,s=n?null:e;r--;)(i=I.attrHandle[t[r]])&&i!==e||(I.attrHandle[t[r]]=s)}function c(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:t[e]===!0?e.toLowerCase():null}function l(t,e){return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}function u(t){return"input"===t.nodeName.toLowerCase()?t.defaultValue:void 0}function h(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Z)-(~t.sourceIndex||Z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function d(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function f(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function p(t){return s(function(e){return e=+e,s(function(n,i){for(var r,s=t([],n.length,e),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))})})}function m(t,e){var i,r,s,o,a,c,l,u=Q[t+" "];if(u)return e?0:u.slice(0);for(a=t,c=[],l=I.preFilter;a;){(!i||(r=me.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),c.push(s=[])),i=!1,(r=ge.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(pe," ")}),a=a.slice(i.length));for(o in I.filter)!(r=we[o].exec(a))||l[o]&&!(r=l[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return e?a.length:a?n.error(t):Q(t,c).slice(0)}function g(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function v(t,e,n){var i=e.dir,r=n&&"parentNode"===i,s=z++;return e.first?function(e,n,s){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,s)}:function(e,n,o){var a,c,l,u=V+" "+s;if(o){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,o))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(l=e[W]||(e[W]={}),(c=l[i])&&c[0]===u){if((a=c[1])===!0||a===P)return a===!0}else if(c=l[i]=[u],c[1]=t(e,n,o)||P,c[1]===!0)return!0}}function y(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function b(t,e,n,i,r){for(var s,o=[],a=0,c=t.length,l=null!=e;c>a;a++)(s=t[a])&&(!n||n(s,i,r))&&(o.push(s),l&&e.push(a));return o}function x(t,e,n,i,r,o){return i&&!i[W]&&(i=x(i)),r&&!r[W]&&(r=x(r,o)),s(function(s,o,a,c){var l,u,h,d=[],f=[],p=o.length,m=s||k(e||"*",a.nodeType?[a]:a,[]),g=!t||!s&&e?m:b(m,d,t,a,c),v=n?r||(s?t:p||i)?[]:o:g;if(n&&n(g,v,a,c),i)for(l=b(v,f),i(l,[],a,c),u=l.length;u--;)(h=l[u])&&(v[f[u]]=!(g[f[u]]=h));if(s){if(r||t){if(r){for(l=[],u=v.length;u--;)(h=v[u])&&l.push(g[u]=h);r(null,v=[],l,c)}for(u=v.length;u--;)(h=v[u])&&(l=r?ae.call(s,h):d[u])>-1&&(s[l]=!(o[l]=h))}}else v=b(v===o?v.splice(p,v.length):v),r?r(null,o,v,c):re.apply(o,v)})}function w(t){for(var e,n,i,r=t.length,s=I.relative[t[0].type],o=s||I.relative[" "],a=s?1:0,c=v(function(t){return t===e},o,!0),l=v(function(t){return ae.call(e,t)>-1},o,!0),u=[function(t,n,i){return!s&&(i||n!==O)||((e=n).nodeType?c(t,n,i):l(t,n,i))}];r>a;a++)if(n=I.relative[t[a].type])u=[v(y(u),n)];else{if(n=I.filter[t[a].type].apply(null,t[a].matches),n[W]){for(i=++a;r>i&&!I.relative[t[i].type];i++);return x(a>1&&y(u),a>1&&g(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(pe,"$1"),n,i>a&&w(t.slice(a,i)),r>i&&w(t=t.slice(i)),r>i&&g(t))}u.push(n)}return y(u)}function _(t,e){var i=0,r=e.length>0,o=t.length>0,a=function(s,a,c,l,u){var h,d,f,p=[],m=0,g="0",v=s&&[],y=null!=u,x=O,w=s||o&&I.find.TAG("*",u&&a.parentNode||a),_=V+=null==x?1:Math.random()||.1;for(y&&(O=a!==M&&a,P=i);null!=(h=w[g]);g++){if(o&&h){for(d=0;f=t[d++];)if(f(h,a,c)){l.push(h);break}y&&(V=_,P=++i)}r&&((h=!f&&h)&&m--,s&&v.push(h))}if(m+=g,r&&g!==m){for(d=0;f=e[d++];)f(v,p,a,c);if(s){if(m>0)for(;g--;)v[g]||p[g]||(p[g]=ne.call(l));p=b(p)}re.apply(l,p),y&&!s&&p.length>0&&m+e.length>1&&n.uniqueSort(l)}return y&&(V=_,O=x),v};return r?s(a):a}function k(t,e,i){for(var r=0,s=e.length;s>r;r++)n(t,e[r],i);return i}function T(t,e,n,i){var r,s,o,a,c,l=m(t);if(!i&&1===l.length){if(s=l[0]=l[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&S.getById&&9===e.nodeType&&B&&I.relative[s[1].type]){if(e=(I.find.ID(o.matches[0].replace(Se,Pe),e)||[])[0],!e)return n;t=t.slice(s.shift().value.length)}for(r=we.needsContext.test(t)?0:s.length;r--&&(o=s[r],!I.relative[a=o.type]);)if((c=I.find[a])&&(i=c(o.matches[0].replace(Se,Pe),ve.test(s[0].type)&&e.parentNode||e))){if(s.splice(r,1),t=i.length&&g(s),!t)return re.apply(n,i),n;break}}return A(t,l)(i,e,!B,n,ve.test(t)),n}function E(){}var C,S,P,I,N,$,A,O,j,D,M,H,B,R,F,L,q,W="sizzle"+-new Date,U=t.document,V=0,z=0,X=r(),Q=r(),Y=r(),K=!1,G=function(){return 0},J=typeof e,Z=1<<31,te={}.hasOwnProperty,ee=[],ne=ee.pop,ie=ee.push,re=ee.push,oe=ee.slice,ae=ee.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ce="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",le="[\\x20\\t\\r\\n\\f]",ue="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",he=ue.replace("w","w#"),de="\\["+le+"*("+ue+")"+le+"*(?:([*^$|!~]?=)"+le+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+he+")|)|)"+le+"*\\]",fe=":("+ue+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+de.replace(3,8)+")*)|.*)\\)|)",pe=new RegExp("^"+le+"+|((?:^|[^\\\\])(?:\\\\.)*)"+le+"+$","g"),me=new RegExp("^"+le+"*,"+le+"*"),ge=new RegExp("^"+le+"*([>+~]|"+le+")"+le+"*"),ve=new RegExp(le+"*[+~]"),ye=new RegExp("="+le+"*([^\\]'\"]*)"+le+"*\\]","g"),be=new RegExp(fe),xe=new RegExp("^"+he+"$"),we={ID:new RegExp("^#("+ue+")"),CLASS:new RegExp("^\\.("+ue+")"),TAG:new RegExp("^("+ue.replace("w","w*")+")"),ATTR:new RegExp("^"+de),PSEUDO:new RegExp("^"+fe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+le+"*(even|odd|(([+-]|)(\\d*)n|)"+le+"*(?:([+-]|)"+le+"*(\\d+)|))"+le+"*\\)|)","i"),bool:new RegExp("^(?:"+ce+")$","i"),needsContext:new RegExp("^"+le+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+le+"*((?:-\\d)?\\d*)"+le+"*\\)|)(?=[^-]|$)","i")},_e=/^[^{]+\{\s*\[native \w/,ke=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Te=/^(?:input|select|textarea|button)$/i,Ee=/^h\d$/i,Ce=/'|\\/g,Se=new RegExp("\\\\([\\da-f]{1,6}"+le+"?|("+le+")|.)","ig"),Pe=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{re.apply(ee=oe.call(U.childNodes),U.childNodes),ee[U.childNodes.length].nodeType}catch(Ie){re={apply:ee.length?function(t,e){ie.apply(t,oe.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}$=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},S=n.support={},D=n.setDocument=function(t){var e=t?t.ownerDocument||t:U,n=e.parentWindow;return e!==M&&9===e.nodeType&&e.documentElement?(M=e,H=e.documentElement,B=!$(e),n&&n.frameElement&&n.attachEvent("onbeforeunload",function(){D()}),S.attributes=o(function(t){return t.innerHTML="<a href='#'></a>",a("type|href|height|width",l,"#"===t.firstChild.getAttribute("href")),a(ce,c,null==t.getAttribute("disabled")),t.className="i",!t.getAttribute("className")}),S.input=o(function(t){return t.innerHTML="<input>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}),a("value",u,S.attributes&&S.input),S.getElementsByTagName=o(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),S.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),S.getById=o(function(t){return H.appendChild(t).id=W,!e.getElementsByName||!e.getElementsByName(W).length}),S.getById?(I.find.ID=function(t,e){if(typeof e.getElementById!==J&&B){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},I.filter.ID=function(t){var e=t.replace(Se,Pe);return function(t){return t.getAttribute("id")===e}}):(delete I.find.ID,I.filter.ID=function(t){var e=t.replace(Se,Pe);return function(t){var n=typeof t.getAttributeNode!==J&&t.getAttributeNode("id");return n&&n.value===e}}),I.find.TAG=S.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==J?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},I.find.CLASS=S.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==J&&B?e.getElementsByClassName(t):void 0},F=[],R=[],(S.qsa=i(e.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||R.push("\\["+le+"*(?:value|"+ce+")"),t.querySelectorAll(":checked").length||R.push(":checked")}),o(function(t){var n=e.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&R.push("[*^$]="+le+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(S.matchesSelector=i(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&o(function(t){S.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),F.push("!=",fe)}),R=R.length&&new RegExp(R.join("|")),F=F.length&&new RegExp(F.join("|")),q=i(H.contains)||H.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S.sortDetached=o(function(t){return 1&t.compareDocumentPosition(e.createElement("div"))}),G=H.compareDocumentPosition?function(t,n){if(t===n)return K=!0,0;var i=n.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(n);return i?1&i||!S.sortDetached&&n.compareDocumentPosition(t)===i?t===e||q(U,t)?-1:n===e||q(U,n)?1:j?ae.call(j,t)-ae.call(j,n):0:4&i?-1:1:t.compareDocumentPosition?-1:1}:function(t,n){var i,r=0,s=t.parentNode,o=n.parentNode,a=[t],c=[n];if(t===n)return K=!0,0;if(!s||!o)return t===e?-1:n===e?1:s?-1:o?1:j?ae.call(j,t)-ae.call(j,n):0;if(s===o)return h(t,n);for(i=t;i=i.parentNode;)a.unshift(i);for(i=n;i=i.parentNode;)c.unshift(i);for(;a[r]===c[r];)r++;return r?h(a[r],c[r]):a[r]===U?-1:c[r]===U?1:0},e):M},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==M&&D(t),e=e.replace(ye,"='$1']"),!(!S.matchesSelector||!B||F&&F.test(e)||R&&R.test(e)))try{var i=L.call(t,e);if(i||S.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return n(e,M,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==M&&D(t),q(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==M&&D(t);var i=I.attrHandle[n.toLowerCase()],r=i&&te.call(I.attrHandle,n.toLowerCase())?i(t,n,!B):e;return r===e?S.attributes||!B?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],i=0,r=0;if(K=!S.detectDuplicates,j=!S.sortStable&&t.slice(0),t.sort(G),K){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return t},N=n.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=N(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=N(e);return n},I=n.selectors={cacheLength:50,createPseudo:s,match:we,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Se,Pe),t[3]=(t[4]||t[5]||"").replace(Se,Pe),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,i=!t[5]&&t[2];return we.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:i&&be.test(i)&&(n=m(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(t[0]=t[0].slice(0,n),t[2]=i.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Se,Pe).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=X[t+" "];return e||(e=new RegExp("(^|"+le+")"+t+"("+le+"|$)"))&&X(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==J&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(r){var s=n.attr(r,t);return null==s?"!="===e:e?(s+="","="===e?s===i:"!="===e?s!==i:"^="===e?i&&0===s.indexOf(i):"*="===e?i&&s.indexOf(i)>-1:"$="===e?i&&s.slice(-i.length)===i:"~="===e?(" "+s+" ").indexOf(i)>-1:"|="===e?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,h,d,f,p,m=s!==o?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!c&&!a;if(g){if(s){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&y){for(u=g[W]||(g[W]={}),l=u[t]||[],f=l[0]===V&&l[1],d=l[0]===V&&l[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[V,f,d];break}}else if(y&&(l=(e[W]||(e[W]={}))[t])&&l[0]===V)d=l[1];else for(;(h=++f&&h&&h[m]||(d=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[W]||(h[W]={}))[t]=[V,d]),h!==e)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,e){var i,r=I.pseudos[t]||I.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return r[W]?r(e):r.length>1?(i=[t,t,"",e],I.setFilters.hasOwnProperty(t.toLowerCase())?s(function(t,n){for(var i,s=r(t,e),o=s.length;o--;)i=ae.call(t,s[o]),t[i]=!(n[i]=s[o])}):function(t){return r(t,0,i)}):r}},pseudos:{not:s(function(t){var e=[],n=[],i=A(t.replace(pe,"$1"));return i[W]?s(function(t,e,n,r){for(var s,o=i(t,null,r,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,r,s){return e[0]=t,i(e,null,s,n),!n.pop()}}),has:s(function(t){return function(e){return n(t,e).length>0}}),contains:s(function(t){return function(e){return(e.textContent||e.innerText||N(e)).indexOf(t)>-1}}),lang:s(function(t){return xe.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(Se,Pe).toLowerCase(),function(e){var n;do if(n=B?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===H},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!I.pseudos.empty(t)},header:function(t){return Ee.test(t.nodeName)},input:function(t){return Te.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:p(function(){return[0]}),last:p(function(t,e){return[e-1]}),eq:p(function(t,e,n){return[0>n?n+e:n]}),even:p(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:p(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:p(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:p(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}};for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})I.pseudos[C]=d(C);for(C in{submit:!0,reset:!0})I.pseudos[C]=f(C);A=n.compile=function(t,e){var n,i=[],r=[],s=Y[t+" "];if(!s){for(e||(e=m(t)),n=e.length;n--;)s=w(e[n]),s[W]?i.push(s):r.push(s);s=Y(t,_(r,i))}return s},I.pseudos.nth=I.pseudos.eq,E.prototype=I.filters=I.pseudos,I.setFilters=new E,S.sortStable=W.split("").sort(G).join("")===W,D(),[0,0].sort(G),S.detectDuplicates=K,se.find=n,se.expr=n.selectors,se.expr[":"]=se.expr.pseudos,se.unique=n.uniqueSort,se.text=n.getText,se.isXMLDoc=n.isXML,se.contains=n.contains}(t);var pe={};se.Callbacks=function(t){t="string"==typeof t?pe[t]||i(t):se.extend({},t);var n,r,s,o,a,c,l=[],u=!t.once&&[],h=function(e){for(n=t.memory&&e,r=!0,c=o||0,o=0,a=l.length,s=!0;l&&a>c;c++)if(l[c].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}s=!1,l&&(u?u.length&&h(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var e=l.length;!function i(e){se.each(e,function(e,n){var r=se.type(n);"function"===r?t.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),s?a=l.length:n&&(o=e,h(n))}return this},remove:function(){return l&&se.each(arguments,function(t,e){for(var n;(n=se.inArray(e,l,n))>-1;)l.splice(n,1),s&&(a>=n&&a--,c>=n&&c--)}),this},has:function(t){return t?se.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=n=e,this},disabled:function(){return!l},lock:function(){return u=e,n||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!l||r&&!u||(s?u.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},se.extend({Deferred:function(t){var e=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return se.Deferred(function(n){se.each(e,function(e,s){var o=s[0],a=se.isFunction(t[e])&&t[e];r[s[1]](function(){var t=a&&a.apply(this,arguments);t&&se.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?se.extend(t,i):i}},r={};return i.pipe=i.then,se.each(e,function(t,s){var o=s[2],a=s[3];i[s[1]]=o.add,a&&o.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=o.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,s=te.call(arguments),o=s.length,a=1!==o||t&&se.isFunction(t.promise)?o:0,c=1===a?t:se.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?te.call(arguments):r,i===e?c.notifyWith(n,i):--a||c.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)s[r]&&se.isFunction(s[r].promise)?s[r].promise().done(l(r,i,s)).fail(c.reject).progress(l(r,n,e)):--a;return a||c.resolveWith(i,s),c.promise()}}),se.support=function(e){var n=V.createElement("input"),i=V.createDocumentFragment(),r=V.createElement("div"),s=V.createElement("select"),o=s.appendChild(V.createElement("option"));return n.type?(n.type="checkbox",e.checkOn=""!==n.value,e.optSelected=o.selected,e.reliableMarginRight=!0,e.boxSizingReliable=!0,e.pixelPosition=!1,n.checked=!0,e.noCloneChecked=n.cloneNode(!0).checked,s.disabled=!0,e.optDisabled=!o.disabled,n=V.createElement("input"),n.value="t",n.type="radio",e.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),i.appendChild(n),e.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,e.focusinBubbles="onfocusin"in t,r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===r.style.backgroundClip,se(function(){var n,i,s="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",o=V.getElementsByTagName("body")[0];o&&(n=V.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(n).appendChild(r),r.innerHTML="",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",se.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===r.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(r,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(r,null)||{width:"4px"}).width,i=r.appendChild(V.createElement("div")),i.style.cssText=r.style.cssText=s,i.style.marginRight=i.style.width="0",r.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),o.removeChild(n))}),e):e}({});var me,ge,ve=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ye=/([A-Z])/g;r.uid=1,r.accepts=function(t){return t.nodeType?1===t.nodeType||9===t.nodeType:!0},r.prototype={key:function(t){if(!r.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=r.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,se.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),s=this.cache[r];if("string"==typeof e)s[e]=n;else if(se.isEmptyObject(s))se.extend(this.cache[r],e);else for(i in e)s[i]=e[i];return s},get:function(t,n){var i=this.cache[this.key(t)];return n===e?i:i[n]},access:function(t,n,i){return n===e||n&&"string"==typeof n&&i===e?this.get(t,n):(this.set(t,n,i),i!==e?i:n)},remove:function(t,n){var i,r,s,o=this.key(t),a=this.cache[o];if(n===e)this.cache[o]={};else{se.isArray(n)?r=n.concat(n.map(se.camelCase)):(s=se.camelCase(n),n in a?r=[n,s]:(r=s,r=r in a?[r]:r.match(ae)||[])),i=r.length;for(;i--;)delete a[r[i]]}},hasData:function(t){return!se.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}},me=new r,ge=new r,se.extend({acceptData:r.accepts,hasData:function(t){return me.hasData(t)||ge.hasData(t)},data:function(t,e,n){return me.access(t,e,n)},removeData:function(t,e){me.remove(t,e)},_data:function(t,e,n){return ge.access(t,e,n)},_removeData:function(t,e){ge.remove(t,e)}}),se.fn.extend({data:function(t,n){var i,r,o=this[0],a=0,c=null;if(t===e){if(this.length&&(c=me.get(o),1===o.nodeType&&!ge.get(o,"hasDataAttrs"))){for(i=o.attributes;a<i.length;a++)r=i[a].name,0===r.indexOf("data-")&&(r=se.camelCase(r.slice(5)),s(o,r,c[r]));ge.set(o,"hasDataAttrs",!0)}return c}return"object"==typeof t?this.each(function(){me.set(this,t)}):se.access(this,function(n){var i,r=se.camelCase(t);if(o&&n===e){if(i=me.get(o,t),i!==e)return i;if(i=me.get(o,r),i!==e)return i;if(i=s(o,r,e),i!==e)return i}else this.each(function(){var i=me.get(this,r);me.set(this,r,n),-1!==t.indexOf("-")&&i!==e&&me.set(this,t,n)})},null,n,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){me.remove(this,t)})}}),se.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ge.get(t,e),n&&(!i||se.isArray(n)?i=ge.access(t,e,se.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=se.queue(t,e),i=n.length,r=n.shift(),s=se._queueHooks(t,e),o=function(){se.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ge.get(t,n)||ge.access(t,n,{empty:se.Callbacks("once memory").add(function(){ge.remove(t,[e+"queue",n])})})}}),se.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),arguments.length<i?se.queue(this[0],t):n===e?this:this.each(function(){var e=se.queue(this,t,n);se._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&se.dequeue(this,t)})},dequeue:function(t){return this.each(function(){se.dequeue(this,t)})},delay:function(t,e){return t=se.fx?se.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,r=1,s=se.Deferred(),o=this,a=this.length,c=function(){--r||s.resolveWith(o,[o])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)i=ge.get(o[a],t+"queueHooks"),i&&i.empty&&(r++,i.empty.add(c));return c(),s.promise(n)}});var be,xe,we=/[\t\r\n\f]/g,_e=/\r/g,ke=/^(?:input|select|textarea|button)$/i;se.fn.extend({attr:function(t,e){return se.access(this,se.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){se.removeAttr(this,t)})},prop:function(t,e){return se.access(this,se.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[se.propFix[t]||t]})},addClass:function(t){var e,n,i,r,s,o=0,a=this.length,c="string"==typeof t&&t;if(se.isFunction(t))return this.each(function(e){se(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(ae)||[];a>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):" ")){for(s=0;r=e[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=se.trim(i)}return this},removeClass:function(t){var e,n,i,r,s,o=0,a=this.length,c=0===arguments.length||"string"==typeof t&&t;if(se.isFunction(t))return this.each(function(e){se(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(ae)||[];a>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):"")){for(s=0;r=e[s++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=t?se.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t,i="boolean"==typeof e;return se.isFunction(t)?this.each(function(n){se(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var r,s=0,o=se(this),a=e,c=t.match(ae)||[];r=c[s++];)a=i?a:!o.hasClass(r),o[a?"addClass":"removeClass"](r);else(n===W||"boolean"===n)&&(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ge.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(we," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,r,s=this[0];{if(arguments.length)return r=se.isFunction(t),this.each(function(i){var s;1===this.nodeType&&(s=r?t.call(this,i,se(this).val()):t,null==s?s="":"number"==typeof s?s+="":se.isArray(s)&&(s=se.map(s,function(t){return null==t?"":t+""})),n=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,s,"value")!==e||(this.value=s))});if(s)return n=se.valHooks[s.type]||se.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(s,"value"))!==e?i:(i=s.value,"string"==typeof i?i.replace(_e,""):null==i?"":i)}}}),se.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,s="select-one"===t.type||0>r,o=s?null:[],a=s?r+1:i.length,c=0>r?a:s?r:0;a>c;c++)if(n=i[c],!(!n.selected&&c!==r||(se.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&se.nodeName(n.parentNode,"optgroup"))){if(e=se(n).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,s=se.makeArray(e),o=r.length;o--;)i=r[o],(i.selected=se.inArray(se(i).val(),s)>=0)&&(n=!0);return n||(t.selectedIndex=-1),s}}},attr:function(t,n,i){var r,s,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===W?se.prop(t,n,i):(1===o&&se.isXMLDoc(t)||(n=n.toLowerCase(),r=se.attrHooks[n]||(se.expr.match.bool.test(n)?xe:be)),i===e?r&&"get"in r&&null!==(s=r.get(t,n))?s:(s=se.find.attr(t,n),null==s?e:s):null!==i?r&&"set"in r&&(s=r.set(t,i,n))!==e?s:(t.setAttribute(n,i+""),i):(se.removeAttr(t,n),void 0))},removeAttr:function(t,e){var n,i,r=0,s=e&&e.match(ae);if(s&&1===t.nodeType)for(;n=s[r++];)i=se.propFix[n]||n,se.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!se.support.radioValue&&"radio"===e&&se.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,i){var r,s,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!se.isXMLDoc(t),o&&(n=se.propFix[n]||n,s=se.propHooks[n]),i!==e?s&&"set"in s&&(r=s.set(t,i,n))!==e?r:t[n]=i:s&&"get"in s&&null!==(r=s.get(t,n))?r:t[n]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ke.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),xe={set:function(t,e,n){return e===!1?se.removeAttr(t,n):t.setAttribute(n,n),n}},se.each(se.expr.match.bool.source.match(/\w+/g),function(t,n){var i=se.expr.attrHandle[n]||se.find.attr;se.expr.attrHandle[n]=function(t,n,r){var s=se.expr.attrHandle[n],o=r?e:(se.expr.attrHandle[n]=e)!=i(t,n,r)?n.toLowerCase():null;return se.expr.attrHandle[n]=s,o}}),se.support.optSelected||(se.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){se.propFix[this.toLowerCase()]=this}),se.each(["radio","checkbox"],function(){se.valHooks[this]={set:function(t,e){return se.isArray(e)?t.checked=se.inArray(se(t).val(),e)>=0:void 0}},se.support.checkOn||(se.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Te=/^key/,Ee=/^(?:mouse|contextmenu)|click/,Ce=/^(?:focusinfocus|focusoutblur)$/,Se=/^([^.]*)(?:\.(.+)|)$/;se.event={global:{},add:function(t,n,i,r,s){var o,a,c,l,u,h,d,f,p,m,g,v=ge.get(t);if(v){for(i.handler&&(o=i,i=o.handler,s=o.selector),i.guid||(i.guid=se.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return typeof se===W||t&&se.event.triggered===t.type?e:se.event.dispatch.apply(a.elem,arguments)},a.elem=t),n=(n||"").match(ae)||[""],u=n.length;u--;)c=Se.exec(n[u])||[],p=g=c[1],m=(c[2]||"").split(".").sort(),p&&(d=se.event.special[p]||{},p=(s?d.delegateType:d.bindType)||p,d=se.event.special[p]||{},h=se.extend({type:p,origType:g,data:r,handler:i,guid:i.guid,selector:s,needsContext:s&&se.expr.match.needsContext.test(s),namespace:m.join(".")},o),(f=l[p])||(f=l[p]=[],f.delegateCount=0,d.setup&&d.setup.call(t,r,m,a)!==!1||t.addEventListener&&t.addEventListener(p,a,!1)),d.add&&(d.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),s?f.splice(f.delegateCount++,0,h):f.push(h),se.event.global[p]=!0);t=null}},remove:function(t,e,n,i,r){var s,o,a,c,l,u,h,d,f,p,m,g=ge.hasData(t)&&ge.get(t);if(g&&(c=g.events)){for(e=(e||"").match(ae)||[""],l=e.length;l--;)if(a=Se.exec(e[l])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(h=se.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=c[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)u=d[s],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));o&&!d.length&&(h.teardown&&h.teardown.call(t,p,g.handle)!==!1||se.removeEvent(t,f,g.handle),delete c[f])
}else for(f in c)se.event.remove(t,f+e[l],n,i,!0);se.isEmptyObject(c)&&(delete g.handle,ge.remove(t,"events"))}},trigger:function(n,i,r,s){var o,a,c,l,u,h,d,f=[r||V],p=ie.call(n,"type")?n.type:n,m=ie.call(n,"namespace")?n.namespace.split("."):[];if(a=c=r=r||V,3!==r.nodeType&&8!==r.nodeType&&!Ce.test(p+se.event.triggered)&&(p.indexOf(".")>=0&&(m=p.split("."),p=m.shift(),m.sort()),u=p.indexOf(":")<0&&"on"+p,n=n[se.expando]?n:new se.Event(p,"object"==typeof n&&n),n.isTrigger=s?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=r),i=null==i?[n]:se.makeArray(i,[n]),d=se.event.special[p]||{},s||!d.trigger||d.trigger.apply(r,i)!==!1)){if(!s&&!d.noBubble&&!se.isWindow(r)){for(l=d.delegateType||p,Ce.test(l+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),c=a;c===(r.ownerDocument||V)&&f.push(c.defaultView||c.parentWindow||t)}for(o=0;(a=f[o++])&&!n.isPropagationStopped();)n.type=o>1?l:d.bindType||p,h=(ge.get(a,"events")||{})[n.type]&&ge.get(a,"handle"),h&&h.apply(a,i),h=u&&a[u],h&&se.acceptData(a)&&h.apply&&h.apply(a,i)===!1&&n.preventDefault();return n.type=p,s||n.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),i)!==!1||!se.acceptData(r)||u&&se.isFunction(r[p])&&!se.isWindow(r)&&(c=r[u],c&&(r[u]=null),se.event.triggered=p,r[p](),se.event.triggered=e,c&&(r[u]=c)),n.result}},dispatch:function(t){t=se.event.fix(t);var n,i,r,s,o,a=[],c=te.call(arguments),l=(ge.get(this,"events")||{})[t.type]||[],u=se.event.special[t.type]||{};if(c[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=se.event.handlers.call(this,t,l),n=0;(s=a[n++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,i=0;(o=s.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((se.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,c),r!==e&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,n){var i,r,s,o,a=[],c=n.delegateCount,l=t.target;if(c&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(r=[],i=0;c>i;i++)o=n[i],s=o.selector+" ",r[s]===e&&(r[s]=o.needsContext?se(s,this).index(l)>=0:se.find(s,this,null,[l]).length),r[s]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return c<n.length&&a.push({elem:this,handlers:n.slice(c)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,r,s,o=n.button;return null==t.pageX&&null!=n.clientX&&(i=t.target.ownerDocument||V,r=i.documentElement,s=i.body,t.pageX=n.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),t.pageY=n.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)),t.which||o===e||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[se.expando])return t;var e,n,i,r=t.type,s=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Ee.test(r)?this.mouseHooks:Te.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,t=new se.Event(s),e=i.length;e--;)n=i[e],t[n]=s[n];return t.target||(t.target=V),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&se.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return se.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=se.extend(new se.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?se.event.trigger(r,null,e):se.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},se.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},se.Event=function(t,e){return this instanceof se.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.getPreventDefault&&t.getPreventDefault()?o:a):this.type=t,e&&se.extend(this,e),this.timeStamp=t&&t.timeStamp||se.now(),this[se.expando]=!0,void 0):new se.Event(t,e)},se.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=o,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=o,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){se.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,s=t.handleObj;return(!r||r!==i&&!se.contains(i,r))&&(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}}),se.support.focusinBubbles||se.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){se.event.simulate(e,t.target,se.event.fix(t),!0)};se.event.special[e]={setup:function(){0===n++&&V.addEventListener(t,i,!0)},teardown:function(){0===--n&&V.removeEventListener(t,i,!0)}}}),se.fn.extend({on:function(t,n,i,r,s){var o,c;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(c in t)this.on(c,n,i,t[c],s);return this}if(null==i&&null==r?(r=n,i=n=e):null==r&&("string"==typeof n?(r=i,i=e):(r=i,i=n,n=e)),r===!1)r=a;else if(!r)return this;return 1===s&&(o=r,r=function(t){return se().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=se.guid++)),this.each(function(){se.event.add(this,t,r,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var r,s;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,se(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(s in t)this.off(s,n,t[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=a),this.each(function(){se.event.remove(this,t,i,n)})},trigger:function(t,e){return this.each(function(){se.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?se.event.trigger(t,e,n,!0):void 0}});var Pe=/^.[^:#\[\.,]*$/,Ie=/^(?:parents|prev(?:Until|All))/,Ne=se.expr.match.needsContext,$e={children:!0,contents:!0,next:!0,prev:!0};se.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(se(t).filter(function(){for(e=0;r>e;e++)if(se.contains(i[e],this))return!0}));for(e=0;r>e;e++)se.find(t,i[e],n);return n=this.pushStack(r>1?se.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e=se(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(se.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(u(this,t||[],!0))},filter:function(t){return this.pushStack(u(this,t||[],!1))},is:function(t){return!!u(this,"string"==typeof t&&Ne.test(t)?se(t):t||[],!1).length},closest:function(t,e){for(var n,i=0,r=this.length,s=[],o=Ne.test(t)||"string"!=typeof t?se(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&se.find.matchesSelector(n,t))){n=s.push(n);break}return this.pushStack(s.length>1?se.unique(s):s)},index:function(t){return t?"string"==typeof t?ee.call(se(t),this[0]):ee.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?se(t,e):se.makeArray(t&&t.nodeType?[t]:t),i=se.merge(this.get(),n);return this.pushStack(se.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),se.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return se.dir(t,"parentNode")},parentsUntil:function(t,e,n){return se.dir(t,"parentNode",n)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return se.dir(t,"nextSibling")},prevAll:function(t){return se.dir(t,"previousSibling")},nextUntil:function(t,e,n){return se.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return se.dir(t,"previousSibling",n)},siblings:function(t){return se.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return se.sibling(t.firstChild)},contents:function(t){return t.contentDocument||se.merge([],t.childNodes)}},function(t,e){se.fn[t]=function(n,i){var r=se.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=se.filter(i,r)),this.length>1&&($e[t]||se.unique(r),Ie.test(t)&&r.reverse()),this.pushStack(r)}}),se.extend({filter:function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?se.find.matchesSelector(i,t)?[i]:[]:se.find.matches(t,se.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,i){for(var r=[],s=i!==e;(t=t[n])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&se(t).is(i))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,je=/<|&#?\w+;/,De=/<(?:script|style|link)/i,Me=/^(?:checkbox|radio)$/i,He=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^$|\/(?:java|ecma)script/i,Re=/^true\/(.*)/,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td,se.fn.extend({text:function(t){return se.access(this,function(t){return t===e?se.text(this):this.empty().append((this[0]&&this[0].ownerDocument||V).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?se.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||se.cleanData(g(n)),n.parentNode&&(e&&se.contains(n.ownerDocument,n)&&p(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(se.cleanData(g(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return se.clone(this,t,e)})},html:function(t){return se.access(this,function(t){var n=this[0]||{},i=0,r=this.length;if(t===e&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!De.test(t)&&!Le[(Oe.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ae,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(se.cleanData(g(n,!1)),n.innerHTML=t);n=0}catch(s){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=se.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var i=t[e++],r=t[e++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),se(this).remove(),r.insertBefore(n,i))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=J.apply([],t);var i,r,s,o,a,c,l=0,u=this.length,h=this,p=u-1,m=t[0],v=se.isFunction(m);if(v||!(1>=u||"string"!=typeof m||se.support.checkClone)&&He.test(m))return this.each(function(i){var r=h.eq(i);v&&(t[0]=m.call(this,i,r.html())),r.domManip(t,e,n)});if(u&&(i=se.buildFragment(t,this[0].ownerDocument,!1,!n&&this),r=i.firstChild,1===i.childNodes.length&&(i=r),r)){for(s=se.map(g(i,"script"),d),o=s.length;u>l;l++)a=i,l!==p&&(a=se.clone(a,!0,!0),o&&se.merge(s,g(a,"script"))),e.call(this[l],a,l);if(o)for(c=s[s.length-1].ownerDocument,se.map(s,f),l=0;o>l;l++)a=s[l],Be.test(a.type||"")&&!ge.access(a,"globalEval")&&se.contains(c,a)&&(a.src?se._evalUrl(a.src):se.globalEval(a.textContent.replace(Fe,"")))}return this}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){se.fn[t]=function(t){for(var n,i=[],r=se(t),s=r.length-1,o=0;s>=o;o++)n=o===s?this:this.clone(!0),se(r[o])[e](n),Z.apply(i,n.get());return this.pushStack(i)}}),se.extend({clone:function(t,e,n){var i,r,s,o,a=t.cloneNode(!0),c=se.contains(t.ownerDocument,t);if(!(se.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||se.isXMLDoc(t)))for(o=g(a),s=g(t),i=0,r=s.length;r>i;i++)v(s[i],o[i]);if(e)if(n)for(s=s||g(t),o=o||g(a),i=0,r=s.length;r>i;i++)m(s[i],o[i]);else m(t,a);return o=g(a,"script"),o.length>0&&p(o,!c&&g(t,"script")),a},buildFragment:function(t,e,n,i){for(var r,s,o,a,c,l,u=0,h=t.length,d=e.createDocumentFragment(),f=[];h>u;u++)if(r=t[u],r||0===r)if("object"===se.type(r))se.merge(f,r.nodeType?[r]:r);else if(je.test(r)){for(s=s||d.appendChild(e.createElement("div")),o=(Oe.exec(r)||["",""])[1].toLowerCase(),a=Le[o]||Le._default,s.innerHTML=a[1]+r.replace(Ae,"<$1></$2>")+a[2],l=a[0];l--;)s=s.firstChild;se.merge(f,s.childNodes),s=d.firstChild,s.textContent=""}else f.push(e.createTextNode(r));for(d.textContent="",u=0;r=f[u++];)if((!i||-1===se.inArray(r,i))&&(c=se.contains(r.ownerDocument,r),s=g(d.appendChild(r),"script"),c&&p(s),n))for(l=0;r=s[l++];)Be.test(r.type||"")&&n.push(r);return d},cleanData:function(t){for(var n,i,s,o,a,c,l=se.event.special,u=0;(i=t[u])!==e;u++){if(r.accepts(i)&&(a=i[ge.expando],a&&(n=ge.cache[a]))){if(s=Object.keys(n.events||{}),s.length)for(c=0;(o=s[c])!==e;c++)l[o]?se.event.remove(i,o):se.removeEvent(i,o,n.handle);ge.cache[a]&&delete ge.cache[a]}delete me.cache[i[me.expando]]}},_evalUrl:function(t){return se.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),se.fn.extend({wrapAll:function(t){var e;return se.isFunction(t)?this.each(function(e){se(this).wrapAll(t.call(this,e))}):(this[0]&&(e=se(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return se.isFunction(t)?this.each(function(e){se(this).wrapInner(t.call(this,e))}):this.each(function(){var e=se(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=se.isFunction(t);return this.each(function(n){se(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()}});var qe,We,Ue=/^(none|table(?!-c[ea]).+)/,Ve=/^margin/,ze=new RegExp("^("+oe+")(.*)$","i"),Xe=new RegExp("^("+oe+")(?!px)[a-z%]+$","i"),Qe=new RegExp("^([+-])=("+oe+")","i"),Ye={BODY:"block"},Ke={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:0,fontWeight:400},Je=["Top","Right","Bottom","Left"],Ze=["Webkit","O","Moz","ms"];se.fn.extend({css:function(t,n){return se.access(this,function(t,n,i){var r,s,o={},a=0;if(se.isArray(n)){for(r=x(t),s=n.length;s>a;a++)o[n[a]]=se.css(t,n[a],!1,r);return o}return i!==e?se.style(t,n,i):se.css(t,n)},t,n,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:b(this))?se(this).show():se(this).hide()})}}),se.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=qe(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,n,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,o,a,c=se.camelCase(n),l=t.style;return n=se.cssProps[c]||(se.cssProps[c]=y(l,c)),a=se.cssHooks[n]||se.cssHooks[c],i===e?a&&"get"in a&&(s=a.get(t,!1,r))!==e?s:l[n]:(o=typeof i,"string"===o&&(s=Qe.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(se.css(t,n)),o="number"),null==i||"number"===o&&isNaN(i)||("number"!==o||se.cssNumber[c]||(i+="px"),se.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(l[n]="inherit"),a&&"set"in a&&(i=a.set(t,i,r))===e||(l[n]=i)),void 0)}},css:function(t,n,i,r){var s,o,a,c=se.camelCase(n);return n=se.cssProps[c]||(se.cssProps[c]=y(t.style,c)),a=se.cssHooks[n]||se.cssHooks[c],a&&"get"in a&&(s=a.get(t,!0,i)),s===e&&(s=qe(t,n,r)),"normal"===s&&n in Ge&&(s=Ge[n]),""===i||i?(o=parseFloat(s),i===!0||se.isNumeric(o)?o||0:s):s}}),qe=function(t,n,i){var r,s,o,a=i||x(t),c=a?a.getPropertyValue(n)||a[n]:e,l=t.style;return a&&(""!==c||se.contains(t.ownerDocument,t)||(c=se.style(t,n)),Xe.test(c)&&Ve.test(n)&&(r=l.width,s=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=c,c=a.width,l.width=r,l.minWidth=s,l.maxWidth=o)),c},se.each(["height","width"],function(t,e){se.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&Ue.test(se.css(t,"display"))?se.swap(t,Ke,function(){return T(t,e,i)}):T(t,e,i):void 0},set:function(t,n,i){var r=i&&x(t);return _(t,n,i?k(t,e,i,se.support.boxSizing&&"border-box"===se.css(t,"boxSizing",!1,r),r):0)}}}),se(function(){se.support.reliableMarginRight||(se.cssHooks.marginRight={get:function(t,e){return e?se.swap(t,{display:"inline-block"},qe,[t,"marginRight"]):void 0}}),!se.support.pixelPosition&&se.fn.position&&se.each(["top","left"],function(t,e){se.cssHooks[e]={get:function(t,n){return n?(n=qe(t,e),Xe.test(n)?se(t).position()[e]+"px":n):void 0}}})}),se.expr&&se.expr.filters&&(se.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},se.expr.filters.visible=function(t){return!se.expr.filters.hidden(t)}),se.each({margin:"",padding:"",border:"Width"},function(t,e){se.cssHooks[t+e]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Je[i]+e]=s[i]||s[i-2]||s[0];return r}},Ve.test(t)||(se.cssHooks[t+e].set=_)});var tn=/%20/g,en=/\[\]$/,nn=/\r?\n/g,rn=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=se.prop(this,"elements");return t?se.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!se(this).is(":disabled")&&sn.test(this.nodeName)&&!rn.test(t)&&(this.checked||!Me.test(t))}).map(function(t,e){var n=se(this).val();return null==n?null:se.isArray(n)?se.map(n,function(t){return{name:e.name,value:t.replace(nn,"\r\n")}}):{name:e.name,value:n.replace(nn,"\r\n")}}).get()}}),se.param=function(t,n){var i,r=[],s=function(t,e){e=se.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(t)||t.jquery&&!se.isPlainObject(t))se.each(t,function(){s(this.name,this.value)});else for(i in t)S(i,t[i],n,s);return r.join("&").replace(tn,"+")},se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){se.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),se.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var on,an,cn=se.now(),ln=/\?/,un=/#.*$/,hn=/([?&])_=[^&]*/,dn=/^(.*?):[ \t]*([^\r\n]*)$/gm,fn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,vn=se.fn.load,yn={},bn={},xn="*/".concat("*");try{an=U.href}catch(wn){an=V.createElement("a"),an.href="",an=an.href}on=gn.exec(an.toLowerCase())||[],se.fn.load=function(t,n,i){if("string"!=typeof t&&vn)return vn.apply(this,arguments);var r,s,o,a=this,c=t.indexOf(" ");return c>=0&&(r=t.slice(c),t=t.slice(0,c)),se.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(s="POST"),a.length>0&&se.ajax({url:t,type:s,dataType:"html",data:n}).done(function(t){o=arguments,a.html(r?se("<div>").append(se.parseHTML(t)).find(r):t)}).complete(i&&function(t,e){a.each(i,o||[t.responseText,e,t])}),this},se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){se.fn[e]=function(t){return this.on(e,t)}}),se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:an,type:"GET",isLocal:fn.test(on[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?N(N(t,se.ajaxSettings),e):N(se.ajaxSettings,t)},ajaxPrefilter:P(yn),ajaxTransport:P(bn),ajax:function(t,n){function i(t,n,i,a){var l,h,y,b,w,k=n;2!==x&&(x=2,c&&clearTimeout(c),r=e,o=a||"",_.readyState=t>0?4:0,l=t>=200&&300>t||304===t,i&&(b=$(d,_,i)),b=A(d,b,_,l),l?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(se.lastModified[s]=w),w=_.getResponseHeader("etag"),w&&(se.etag[s]=w)),204===t||"HEAD"===d.type?k="nocontent":304===t?k="notmodified":(k=b.state,h=b.data,y=b.error,l=!y)):(y=k,(t||!k)&&(k="error",0>t&&(t=0))),_.status=t,_.statusText=(n||k)+"",l?m.resolveWith(f,[h,k,_]):m.rejectWith(f,[_,k,y]),_.statusCode(v),v=e,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[_,d,l?h:y]),g.fireWith(f,[_,k]),u&&(p.trigger("ajaxComplete",[_,d]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var r,s,o,a,c,l,u,h,d=se.ajaxSetup({},n),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?se(f):se.event,m=se.Deferred(),g=se.Callbacks("once memory"),v=d.statusCode||{},y={},b={},x=0,w="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=dn.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return x||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||w;return r&&r.abort(e),i(0,e),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,d.url=((t||d.url||an)+"").replace(un,"").replace(mn,on[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=se.trim(d.dataType||"*").toLowerCase().match(ae)||[""],null==d.crossDomain&&(l=gn.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===on[1]&&l[2]===on[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(on[3]||("http:"===on[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=se.param(d.data,d.traditional)),I(yn,d,n,_),2===x)return _;u=d.global,u&&0===se.active++&&se.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!pn.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(ln.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=hn.test(s)?s.replace(hn,"$1_="+cn++):s+(ln.test(s)?"&":"?")+"_="+cn++)),d.ifModified&&(se.lastModified[s]&&_.setRequestHeader("If-Modified-Since",se.lastModified[s]),se.etag[s]&&_.setRequestHeader("If-None-Match",se.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+xn+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)_.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(f,_,d)===!1||2===x))return _.abort();w="abort";for(h in{success:1,error:1,complete:1})_[h](d[h]);if(r=I(bn,d,n,_)){_.readyState=1,u&&p.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(c=setTimeout(function(){_.abort("timeout")},d.timeout));try{x=1,r.send(y,i)}catch(k){if(!(2>x))throw k;i(-1,k)}}else i(-1,"No Transport");return _},getJSON:function(t,e,n){return se.get(t,e,n,"json")},getScript:function(t,n){return se.get(t,e,n,"script")}}),se.each(["get","post"],function(t,n){se[n]=function(t,i,r,s){return se.isFunction(i)&&(s=s||r,r=i,i=e),se.ajax({url:t,type:n,dataType:s,data:i,success:r})}}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return se.globalEval(t),t}}}),se.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),se.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=se("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),V.head.appendChild(e[0])},abort:function(){n&&n()}}}});var _n=[],kn=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=_n.pop()||se.expando+"_"+cn++;return this[t]=!0,t}}),se.ajaxPrefilter("json jsonp",function(n,i,r){var s,o,a,c=n.jsonp!==!1&&(kn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&kn.test(n.data)&&"data");return c||"jsonp"===n.dataTypes[0]?(s=n.jsonpCallback=se.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,c?n[c]=n[c].replace(kn,"$1"+s):n.jsonp!==!1&&(n.url+=(ln.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return a||se.error(s+" was not called"),a[0]},n.dataTypes[0]="json",o=t[s],t[s]=function(){a=arguments},r.always(function(){t[s]=o,n[s]&&(n.jsonpCallback=i.jsonpCallback,_n.push(s)),a&&se.isFunction(o)&&o(a[0]),a=o=e}),"script"):void 0}),se.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Tn=se.ajaxSettings.xhr(),En={0:200,1223:204},Cn=0,Sn={};t.ActiveXObject&&se(t).on("unload",function(){for(var t in Sn)Sn[t]();Sn=e}),se.support.cors=!!Tn&&"withCredentials"in Tn,se.support.ajax=Tn=!!Tn,se.ajaxTransport(function(t){var n;return se.support.cors||Tn&&!t.crossDomain?{send:function(i,r){var s,o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);n=function(t){return function(){n&&(delete Sn[o],n=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?r(a.status||404,a.statusText):r(En[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:e,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=Sn[o=Cn++]=n("abort"),a.send(t.hasContent&&t.data||null)},abort:function(){n&&n()}}:void 0});var Pn,In,Nn=/^(?:toggle|show|hide)$/,$n=new RegExp("^(?:([+-])=|)("+oe+")([a-z%]*)$","i"),An=/queueHooks$/,On=[H],jn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=$n.exec(e),s=r&&r[3]||(se.cssNumber[t]?"":"px"),o=(se.cssNumber[t]||"px"!==s&&+i)&&$n.exec(se.css(n.elem,t)),a=1,c=20;if(o&&o[3]!==s){s=s||o[3],r=r||[],o=+i||1;do a=a||".5",o/=a,se.style(n.elem,t,o+s);while(a!==(a=n.cur()/i)&&1!==a&&--c)}return r&&(o=n.start=+o||+i||0,n.unit=s,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};se.Animation=se.extend(D,{tweener:function(t,e){se.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],jn[n]=jn[n]||[],jn[n].unshift(e)},prefilter:function(t,e){e?On.unshift(t):On.push(t)}}),se.Tween=B,B.prototype={constructor:B,init:function(t,e,n,i,r,s){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(se.cssNumber[n]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,n=B.propHooks[this.prop];return this.pos=e=this.options.duration?se.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=se.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){se.fx.step[t.prop]?se.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[se.cssProps[t.prop]]||se.cssHooks[t.prop])?se.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},se.each(["toggle","show","hide"],function(t,e){var n=se.fn[e];se.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(R(e,!0),t,i,r)}}),se.fn.extend({fadeTo:function(t,e,n,i){return this.filter(b).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=se.isEmptyObject(t),s=se.speed(e,n,i),o=function(){var e=D(this,se.extend({},t),s);(r||ge.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(t,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",s=se.timers,o=ge.get(this);if(n)o[n]&&o[n].stop&&r(o[n]);else for(n in o)o[n]&&o[n].stop&&An.test(n)&&r(o[n]);for(n=s.length;n--;)s[n].elem!==this||null!=t&&s[n].queue!==t||(s[n].anim.stop(i),e=!1,s.splice(n,1));(e||!i)&&se.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ge.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],s=se.timers,o=i?i.length:0;for(n.finish=!0,se.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;o>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),se.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){se.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),se.speed=function(t,e,n){var i=t&&"object"==typeof t?se.extend({},t):{complete:n||!n&&e||se.isFunction(t)&&t,duration:t,easing:n&&e||e&&!se.isFunction(e)&&e};return i.duration=se.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in se.fx.speeds?se.fx.speeds[i.duration]:se.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){se.isFunction(i.old)&&i.old.call(this),i.queue&&se.dequeue(this,i.queue)},i},se.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},se.timers=[],se.fx=B.prototype.init,se.fx.tick=function(){var t,n=se.timers,i=0;for(Pn=se.now();i<n.length;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||se.fx.stop(),Pn=e},se.fx.timer=function(t){t()&&se.timers.push(t)&&se.fx.start()},se.fx.interval=13,se.fx.start=function(){In||(In=setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){clearInterval(In),In=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fx.step={},se.expr&&se.expr.filters&&(se.expr.filters.animated=function(t){return se.grep(se.timers,function(e){return t===e.elem}).length}),se.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){se.offset.setOffset(this,t,e)
});var n,i,r=this[0],s={top:0,left:0},o=r&&r.ownerDocument;if(o)return n=o.documentElement,se.contains(n,r)?(typeof r.getBoundingClientRect!==W&&(s=r.getBoundingClientRect()),i=F(o),{top:s.top+i.pageYOffset-n.clientTop,left:s.left+i.pageXOffset-n.clientLeft}):s},se.offset={setOffset:function(t,e,n){var i,r,s,o,a,c,l,u=se.css(t,"position"),h=se(t),d={};"static"===u&&(t.style.position="relative"),a=h.offset(),s=se.css(t,"top"),c=se.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(s+c).indexOf("auto")>-1,l?(i=h.position(),o=i.top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(c)||0),se.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+o),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):h.css(d)}},se.fn.extend({position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===se.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),se.nodeName(t[0],"html")||(i=t.offset()),i.top+=se.css(t[0],"borderTopWidth",!0),i.left+=se.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-se.css(n,"marginTop",!0),left:e.left-i.left-se.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||z;t&&!se.nodeName(t,"html")&&"static"===se.css(t,"position");)t=t.offsetParent;return t||z})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,i){var r="pageYOffset"===i;se.fn[n]=function(s){return se.access(this,function(n,s,o){var a=F(n);return o===e?a?a[i]:n[s]:(a?a.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):n[s]=o,void 0)},n,s,arguments.length,null)}}),se.each({Height:"height",Width:"width"},function(t,n){se.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,r){se.fn[r]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||s===!0?"margin":"border");return se.access(this,function(n,i,r){var s;return se.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+t],s["scroll"+t],n.body["offset"+t],s["offset"+t],s["client"+t])):r===e?se.css(n,i,a):se.style(n,i,r,a)},n,o?r:e,o,null)}})}),se.fn.size=function(){return this.length},se.fn.andSelf=se.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=se:"function"==typeof define&&define.amd&&define("jquery",[],function(){return se}),"object"==typeof t&&"object"==typeof t.document&&(t.jQuery=t.$=se)}(window),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var r,s,o,a,c,l,u,h;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),c=a===e?null:a,l=i.data("with-credentials")||null,u=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),s=i.attr("action"),o=i.serializeArray();var d=i.data("ujs:submit-button");d&&(o.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),s=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",s=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):(r=i.data("method"),s=n.href(i),o=i.data("params")||null);h={type:r||"GET",data:o,dataType:u,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[t,r])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:c},l&&(h.xhrFields={withCredentials:l}),s&&(h.url=s);var f=n.ajax(h);return i.trigger("ajax:send",f),f}return!1},handleMethod:function(i){var r=n.href(i),s=i.data("method"),o=i.attr("target"),a=t("meta[name=csrf-token]").attr("content"),c=t("meta[name=csrf-param]").attr("content"),l=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+s+'" type="hidden" />';c!==e&&a!==e&&(u+='<input name="'+c+'" value="'+a+'" type="hidden" />'),o&&l.attr("target",o),l.hide().append(u).appendTo("body"),l.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),r=!1;return i?(n.fire(t,"confirm")&&(r=n.confirm(i),e=n.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,s,o=t(),a=n||"input,textarea",c=e.find(a);return c.each(function(){if(r=t(this),s=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!s==!i){if(r.is("input[type=radio]")&&c.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;o=o.add(r)}}),o.length?o:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=t(this),s=r.data("method"),o=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==e){if(!(!i.metaKey&&!i.ctrlKey||s&&"GET"!==s||o))return!0;var a=n.handleRemote(r);return a===!1?n.enableElement(r):a.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=t(this),s=r.data("remote")!==e,o=n.blankInputs(r,n.requiredInputSelector),a=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(o&&r.attr("novalidate")==e&&n.fire(r,"ajax:aborted:required",[o]))return n.stopEverything(i);if(s){if(a){setTimeout(function(){n.disableFormElements(r)},13);var c=n.fire(r,"ajax:aborted:file",[a]);return c||setTimeout(function(){n.enableFormElements(r)},13),c}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),s=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",s)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)}))}(jQuery),/*! jQuery UI - v1.10.3 - 2013-06-03
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.sortable.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
function(t,e){function n(e,n){var r,s,o,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,s=r.name,e.href&&s&&"map"===r.nodeName.toLowerCase()?(o=t("img[usemap=#"+s+"]")[0],!!o&&i(o)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,s=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,r,s=t(this[0]);s.length&&s[0]!==document;){if(i=s.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(s.css("zIndex"),10),!isNaN(r)&&0!==r))return r;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function r(e,n,i,r){return t.each(s,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var s="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,r(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,r(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var r,s=t.ui[e].prototype;for(r in i)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([n,i[r]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0?!0:(e[i]=1,r=e[i]>0,e[i]=0,r)}})}(jQuery),function(t,e){var n=0,i=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(s){}r(e)},t.widget=function(e,n,i){var r,s,o,a,c={},l=e.split(".")[0];e=e.split(".")[1],r=l+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[l]=t[l]||{},s=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,s,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?(c[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,s=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=s,e}}(),void 0):(c[e]=i,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix:e},c,{constructor:o,namespace:l,widgetName:e,widgetFullName:r}),s?(t.each(s._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o)},t.widget.extend=function(n){for(var r,s,o=i.call(arguments,1),a=0,c=o.length;c>a;a++)for(r in o[a])s=o[a][r],o[a].hasOwnProperty(r)&&s!==e&&(n[r]=t.isPlainObject(s)?t.isPlainObject(n[r])?t.widget.extend({},n[r],s):t.widget.extend({},s):s);return n},t.widget.bridge=function(n,r){var s=r.prototype.widgetFullName||n;t.fn[n]=function(o){var a="string"==typeof o,c=i.call(arguments,1),l=this;return o=!a&&c.length?t.widget.extend.apply(null,[o].concat(c)):o,a?this.each(function(){var i,r=t.data(this,s);return r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(i=r[o].apply(r,c),i!==r&&i!==e?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,s);e?e.option(o||{})._init():t.data(this,s,new r(o,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var r,s,o,a=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(s=a[n]=t.widget.extend({},this.options[n]),o=0;o<r.length-1;o++)s[r[o]]=s[r[o]]||{},s=s[r[o]];if(n=r.pop(),i===e)return s[n]===e?null:s[n];s[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var r,s=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,o){function a(){return e||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var c=i.match(/^(\w+)\s*(.*)$/),l=c[1]+s.eventNamespace,u=c[2];u?r.delegate(u,l,a):n.bind(l,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,s,o=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(r in s)r in n||(n[r]=s[r]);return this.element.trigger(n,i),!(t.isFunction(o)&&o.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=s,r.delay&&i.delay(r.delay),o&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,s):i.queue(function(n){t(this)[e](),s&&s.call(i[0]),n()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,s="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;return r&&!s&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){function e(t,e,n){return t>e&&e+n>t}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,n){"disabled"===e?(this.options[e]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,n){var i=null,r=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,s.widgetName+"-item")===s?(i=t(this),!1):void 0}),t.data(e.target,s.widgetName+"-item")===s&&(i=t(e.target)),i?!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r)?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,n,i){var r,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,s,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-t(document).scrollTop()<o.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<o.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+o.scrollSpeed)),e.pageX-t(document).scrollLeft()<o.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<o.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+o.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],s=this._intersectsWithPointer(i),s&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,s=t.left,o=s+t.width,a=t.top,c=a+t.height,l=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+l>a&&c>i+l,d="y"===this.options.axis||e+u>s&&o>e+u,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:s<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<c},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=n&&i,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return r?this.floating?o&&"right"===o||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(t){var n=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,s,o=[],a=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(r=t(c[n]),i=r.length-1;i>=0;i--)s=t.data(r[i],this.widgetFullName),s&&s!==this&&!s.options.disabled&&a.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(function(){o.push(this)});return t(o)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,s,o,a,c,l,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=t(d[n]),i=r.length-1;i>=0;i--)s=t.data(r[i],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(h.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]),this.containers.push(s));for(n=h.length-1;n>=0;n--)for(o=h[n][1],a=h[n][0],i=0,l=a.length;l>i;i++)c=t(a[i]),c.data(this.widgetName+"-item",o),u.push({item:c,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,s;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),s=r.offset(),i.left=s.left,i.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(i){var r,s,o,a,c,l,u,h,d,f,p=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!t.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(p&&t.contains(this.containers[r].element[0],p.element[0]))continue;p=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(o=1e4,a=null,f=p.floating||n(this.currentItem),c=f?"left":"top",l=f?"width":"height",u=this.positionAbs[c]+this.offset.click[c],s=this.items.length-1;s>=0;s--)t.contains(this.containers[m].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(!f||e(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))&&(h=this.items[s].item.offset()[c],d=!1,Math.abs(h-u)>Math.abs(h+this.items[s][l]-u)&&(d=!0,h+=this.items[s][l]),Math.abs(h-u)<o&&(o=Math.abs(h-u),a=this.items[s],this.direction=d?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(i,a,null,!0):this._rearrange(i,null,this.containers[m].element,!0),this._trigger("change",i,this._uiHash()),this.containers[m]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,s=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=/(html|body)/i.test(a[0].tagName);
return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():c?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():c?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}(jQuery),BestInPlaceEditor.prototype={activate:function(){var t="";t=this.isNil()?"":this.original_content?this.original_content:this.sanitize?this.element.text():this.element.html(),this.oldValue=this.isNil()?"":this.element.html(),this.display_value=t,jQuery(this.activator).unbind("click",this.clickHandler),this.activateForm(),this.element.trigger(jQuery.Event("best_in_place:activate"))},abort:function(){this.activateText(this.oldValue),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:abort")),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},abortIfConfirm:function(){return this.useConfirm?(confirm("Are you sure you want to discard your changes?")&&this.abort(),void 0):(this.abort(),void 0)},update:function(){var t=this;if(this.formType in{input:1,textarea:1}&&this.getValue()==this.oldValue)return this.abort(),!0;if(t.ajax({type:"post",dataType:"text",data:t.requestData(),success:function(e){t.loadSuccessCallback(e)},error:function(e,n){t.loadErrorCallback(e,n)}}),"select"==this.formType){var e=this.getValue();this.previousCollectionValue=e,jQuery.each(this.values,function(n,i){e==i[0]&&t.element.html(i[1])})}else"checkbox"==this.formType?t.element.html(this.getValue()?this.values[1]:this.values[0]):""!==this.getValue()?t.element.text(this.getValue()):t.element.html(this.nil);t.element.trigger(jQuery.Event("best_in_place:update"))},activateForm:function(){alert("The form was not properly initialized. activateForm is unbound")},activateText:function(t){this.element.html(t),this.isNil()&&this.element.html(this.nil)},initOptions:function(){var t=this;t.element.parents().each(function(){$parent=jQuery(this),t.url=t.url||$parent.attr("data-url"),t.collection=t.collection||$parent.attr("data-collection"),t.formType=t.formType||$parent.attr("data-type"),t.objectName=t.objectName||$parent.attr("data-object"),t.attributeName=t.attributeName||$parent.attr("data-attribute"),t.activator=t.activator||$parent.attr("data-activator"),t.okButton=t.okButton||$parent.attr("data-ok-button"),t.okButtonClass=t.okButtonClass||$parent.attr("data-ok-button-class"),t.cancelButton=t.cancelButton||$parent.attr("data-cancel-button"),t.cancelButtonClass=t.cancelButtonClass||$parent.attr("data-cancel-button-class"),t.nil=t.nil||$parent.attr("data-nil"),t.inner_class=t.inner_class||$parent.attr("data-inner-class"),t.html_attrs=t.html_attrs||$parent.attr("data-html-attrs"),t.original_content=t.original_content||$parent.attr("data-original-content"),t.collectionValue=t.collectionValue||$parent.attr("data-value")}),t.element.parents().each(function(){var e=this.id.match(/^(\w+)_(\d+)$/i);e&&(t.objectName=t.objectName||e[1])}),t.url=t.element.attr("data-url")||t.url||document.location.pathname,t.collection=t.element.attr("data-collection")||t.collection,t.formType=t.element.attr("data-type")||t.formtype||"input",t.objectName=t.element.attr("data-object")||t.objectName,t.attributeName=t.element.attr("data-attribute")||t.attributeName,t.activator=t.element.attr("data-activator")||t.element,t.okButton=t.element.attr("data-ok-button")||t.okButton,t.okButtonClass=t.element.attr("data-ok-button-class")||t.okButtonClass||"",t.cancelButton=t.element.attr("data-cancel-button")||t.cancelButton,t.cancelButtonClass=t.element.attr("data-cancel-button-class")||t.cancelButtonClass||"",t.nil=t.element.attr("data-nil")||t.nil||"",t.inner_class=t.element.attr("data-inner-class")||t.inner_class||null,t.html_attrs=t.element.attr("data-html-attrs")||t.html_attrs,t.original_content=t.element.attr("data-original-content")||t.original_content,t.collectionValue=t.element.attr("data-value")||t.collectionValue,t.sanitize=t.element.attr("data-sanitize")?"true"==t.element.attr("data-sanitize"):!0,t.useConfirm=t.element.attr("data-use-confirm")?"false"!=t.element.attr("data-use-confirm"):!0,"select"!=t.formType&&"checkbox"!=t.formType||null===t.collection||(t.values=jQuery.parseJSON(t.collection))},bindForm:function(){this.activateForm=BestInPlaceEditor.forms[this.formType].activateForm,this.getValue=BestInPlaceEditor.forms[this.formType].getValue},initNil:function(){""===this.element.html()&&this.element.html(this.nil)},isNil:function(){return""===this.element.html()||this.element.html()===this.nil},getValue:function(){alert("The form was not properly initialized. getValue is unbound")},sanitizeValue:function(t){return jQuery.trim(t)},requestData:function(){csrf_token=jQuery("meta[name=csrf-token]").attr("content"),csrf_param=jQuery("meta[name=csrf-param]").attr("content");var t="_method=put";return t+="&"+this.objectName+"["+this.attributeName+"]="+encodeURIComponent(this.getValue()),void 0!==csrf_param&&void 0!==csrf_token&&(t+="&"+csrf_param+"="+encodeURIComponent(csrf_token)),t},ajax:function(t){return t.url=this.url,t.beforeSend=function(t){t.setRequestHeader("Accept","application/json")},jQuery.ajax(t)},loadSuccessCallback:function(t){if(t=jQuery.trim(t),t&&""!=t){var e=jQuery.parseJSON(jQuery.trim(t));null!==e&&e.hasOwnProperty("display_as")&&(this.element.attr("data-original-content",this.element.text()),this.original_content=this.element.text(),this.element.html(e.display_as)),this.element.trigger(jQuery.Event("best_in_place:success"),t),this.element.trigger(jQuery.Event("ajax:success"),t)}else this.element.trigger(jQuery.Event("best_in_place:success")),this.element.trigger(jQuery.Event("ajax:success"));jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate")),null!==this.collectionValue&&"select"==this.formType&&(this.collectionValue=this.previousCollectionValue,this.previousCollectionValue=null)},loadErrorCallback:function(t,e){this.activateText(this.oldValue),this.element.trigger(jQuery.Event("best_in_place:error"),[t,e]),this.element.trigger(jQuery.Event("ajax:error"),t,e),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},clickHandler:function(t){t.preventDefault(),t.data.editor.activate()},setHtmlAttributes:function(){var t=this.element.find(this.formType);if(this.html_attrs){var e=jQuery.parseJSON(this.html_attrs);for(var n in e)t.attr(n,e[n])}}},BestInPlaceEditor.forms={input:{activateForm:function(){var t=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),e=jQuery(document.createElement("input")).attr("type","text").attr("name",this.attributeName).val(this.display_value);null!==this.inner_class&&e.addClass(this.inner_class),t.append(e),this.okButton&&t.append(jQuery(document.createElement("input")).attr("type","submit").attr("class",this.okButtonClass).attr("value",this.okButton)),this.cancelButton&&t.append(jQuery(document.createElement("input")).attr("type","button").attr("class",this.cancelButtonClass).attr("value",this.cancelButton)),this.element.html(t),this.setHtmlAttributes(),this.element.find("input[type='text']")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.input.cancelButtonHandler),this.element.find("input[type='text']").bind("blur",{editor:this},BestInPlaceEditor.forms.input.inputBlurHandler),this.element.find("input[type='text']").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){return this.sanitizeValue(this.element.find("input").val())},inputBlurHandler:function(t){t.data.editor.okButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.abort()},500):t.data.editor.cancelButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.update()},500):t.data.editor.update()},submitHandler:function(t){t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.update()},cancelButtonHandler:function(t){t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.abort(),t.stopPropagation()},keyupHandler:function(t){27==t.keyCode&&t.data.editor.abort()}},date:{activateForm:function(){var t=this,e=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),n=jQuery(document.createElement("input")).attr("type","text").attr("name",this.attributeName).attr("value",this.sanitizeValue(this.display_value));null!==this.inner_class&&n.addClass(this.inner_class),e.append(n),this.element.html(e),this.setHtmlAttributes(),this.element.find("input")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.element.find("input").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.element.find("input").datepicker({onClose:function(){t.update()}}).datepicker("show")},getValue:function(){return this.sanitizeValue(this.element.find("input").val())},submitHandler:function(t){t.data.editor.update()},keyupHandler:function(t){27==t.keyCode&&t.data.editor.abort()}},select:{activateForm:function(){var t=jQuery(document.createElement("form")).attr("action","javascript:void(0)").attr("style","display:inline");selected="",oldValue=this.oldValue,select_elt=jQuery(document.createElement("select")).attr("class",null!==this.inned_class?this.inner_class:""),currentCollectionValue=this.collectionValue,jQuery.each(this.values,function(t,e){var n=jQuery(document.createElement("option")).val(e[0]).html(e[1]);e[0]==currentCollectionValue&&n.attr("selected","selected"),select_elt.append(n)}),t.append(select_elt),this.element.html(t),this.setHtmlAttributes(),this.element.find("select").bind("change",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("blur",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("keyup",{editor:this},BestInPlaceEditor.forms.select.keyupHandler),this.element.find("select")[0].focus()},getValue:function(){return this.sanitizeValue(this.element.find("select").val())},blurHandler:function(t){t.data.editor.update()},keyupHandler:function(t){27==t.keyCode&&t.data.editor.abort()}},checkbox:{activateForm:function(){this.collectionValue=!this.getValue(),this.setHtmlAttributes(),this.update()},getValue:function(){return this.collectionValue}},textarea:{activateForm:function(){width=this.element.css("width"),height=this.element.css("height");var t=jQuery(document.createElement("form")).attr("action","javascript:void(0)").attr("style","display:inline").append(jQuery(document.createElement("textarea")).val(this.sanitizeValue(this.display_value)));this.okButton&&t.append(jQuery(document.createElement("input")).attr("type","submit").attr("value",this.okButton)),this.cancelButton&&t.append(jQuery(document.createElement("input")).attr("type","button").attr("value",this.cancelButton)),this.element.html(t),this.setHtmlAttributes(),jQuery(this.element.find("textarea")[0]).css({"min-width":width,"min-height":height}),jQuery(this.element.find("textarea")[0]).elastic(),this.element.find("textarea")[0].focus(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.textarea.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.textarea.cancelButtonHandler),this.element.find("textarea").bind("blur",{editor:this},BestInPlaceEditor.forms.textarea.blurHandler),this.element.find("textarea").bind("keyup",{editor:this},BestInPlaceEditor.forms.textarea.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){return this.sanitizeValue(this.element.find("textarea").val())},blurHandler:function(t){t.data.editor.okButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.abortIfConfirm()},500):t.data.editor.cancelButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.update()},500):t.data.editor.update()},submitHandler:function(t){t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.update()},cancelButtonHandler:function(t){t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.abortIfConfirm(),t.stopPropagation()},keyupHandler:function(t){27==t.keyCode&&t.data.editor.abortIfConfirm()}}},jQuery.fn.best_in_place=function(){function t(t){return t.data("bestInPlaceEditor")?void 0:(t.data("bestInPlaceEditor",new BestInPlaceEditor(t)),!0)}return jQuery(this.context).delegate(this.selector,"click",function(){var e=jQuery(this);t(e)&&e.click()}),this.each(function(){t(jQuery(this))}),this},function(t){"undefined"==typeof t.fn.elastic&&t.fn.extend({elastic:function(){var e=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight"];return this.each(function(){function n(t,e){curratedHeight=Math.floor(parseInt(t,10)),r.height()!=curratedHeight&&r.css({height:curratedHeight+"px",overflow:e})}function i(){var t=r.val().replace(/&/g,"&amp;").replace(/  /g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),e=s.html().replace(/<br>/gi,"<br />");if(t+"&nbsp;"!=e&&(s.html(t+"&nbsp;"),Math.abs(s.height()+o-r.height())>3)){var i=s.height()+o;i>=c?n(c,"auto"):a>=i?n(a,"hidden"):n(i,"hidden")}}if("textarea"!=this.type)return!1;var r=t(this),s=t("<div />").css({position:"absolute",display:"none","word-wrap":"break-word"}),o=parseInt(r.css("line-height"),10)||parseInt(r.css("font-size"),"10"),a=parseInt(r.css("height"),10)||3*o,c=parseInt(r.css("max-height"),10)||Number.MAX_VALUE,l=0;for(0>c&&(c=Number.MAX_VALUE),s.appendTo(r.parent()),l=e.length;l--;)s.css(e[l].toString(),r.css(e[l].toString()));r.css({overflow:"hidden"}),r.bind("keyup change cut paste",function(){i()}),r.bind("blur",function(){s.height()<c&&(s.height()>a?r.height(s.height()):r.height(a))}),r.on("input paste",function(){setTimeout(i,250)}),i()})}})}(jQuery),function(){var t=this,e=t._,n={},i=Array.prototype,r=Object.prototype,s=Function.prototype,o=i.push,a=i.slice,c=i.concat,l=r.toString,u=r.hasOwnProperty,h=i.forEach,d=i.map,f=i.reduce,p=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,x=Array.isArray,w=Object.keys,_=s.bind,k=function(t){return t instanceof k?t:this instanceof k?(this._wrapped=t,void 0):new k(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):t._=k,k.VERSION="1.4.4";var T=k.each=k.forEach=function(t,e,i){if(null!=t)if(h&&t.forEach===h)t.forEach(e,i);else if(t.length===+t.length){for(var r=0,s=t.length;s>r;r++)if(e.call(i,t[r],r,t)===n)return}else for(var o in t)if(k.has(t,o)&&e.call(i,t[o],o,t)===n)return};k.map=k.collect=function(t,e,n){var i=[];return null==t?i:d&&t.map===d?t.map(e,n):(T(t,function(t,r,s){i[i.length]=e.call(n,t,r,s)}),i)};var E="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return i&&(e=k.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(T(t,function(t,s,o){r?n=e.call(i,n,t,s,o):(n=t,r=!0)}),!r)throw new TypeError(E);return n},k.reduceRight=k.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return i&&(e=k.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var s=t.length;if(s!==+s){var o=k.keys(t);s=o.length}if(T(t,function(a,c,l){c=o?o[--s]:--s,r?n=e.call(i,n,t[c],c,l):(n=t[c],r=!0)}),!r)throw new TypeError(E);return n},k.find=k.detect=function(t,e,n){var i;return C(t,function(t,r,s){return e.call(n,t,r,s)?(i=t,!0):void 0}),i},k.filter=k.select=function(t,e,n){var i=[];return null==t?i:m&&t.filter===m?t.filter(e,n):(T(t,function(t,r,s){e.call(n,t,r,s)&&(i[i.length]=t)}),i)},k.reject=function(t,e,n){return k.filter(t,function(t,i,r){return!e.call(n,t,i,r)},n)},k.every=k.all=function(t,e,i){e||(e=k.identity);var r=!0;return null==t?r:g&&t.every===g?t.every(e,i):(T(t,function(t,s,o){return(r=r&&e.call(i,t,s,o))?void 0:n}),!!r)};var C=k.some=k.any=function(t,e,i){e||(e=k.identity);var r=!1;return null==t?r:v&&t.some===v?t.some(e,i):(T(t,function(t,s,o){return r||(r=e.call(i,t,s,o))?n:void 0}),!!r)};k.contains=k.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):C(t,function(t){return t===e})},k.invoke=function(t,e){var n=a.call(arguments,2),i=k.isFunction(e);return k.map(t,function(t){return(i?e:t[e]).apply(t,n)})},k.pluck=function(t,e){return k.map(t,function(t){return t[e]})},k.where=function(t,e,n){return k.isEmpty(e)?n?null:[]:k[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},k.findWhere=function(t,e){return k.where(t,e,!0)},k.max=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&k.isEmpty(t))return-1/0;var i={computed:-1/0,value:-1/0};return T(t,function(t,r,s){var o=e?e.call(n,t,r,s):t;o>=i.computed&&(i={value:t,computed:o})}),i.value},k.min=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&k.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return T(t,function(t,r,s){var o=e?e.call(n,t,r,s):t;o<i.computed&&(i={value:t,computed:o})}),i.value},k.shuffle=function(t){var e,n=0,i=[];return T(t,function(t){e=k.random(n++),i[n-1]=i[e],i[e]=t}),i};var S=function(t){return k.isFunction(t)?t:function(e){return e[t]}};k.sortBy=function(t,e,n){var i=S(e);return k.pluck(k.map(t,function(t,e,r){return{value:t,index:e,criteria:i.call(n,t,e,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index<e.index?-1:1}),"value")};var P=function(t,e,n,i){var r={},s=S(e||k.identity);return T(t,function(e,o){var a=s.call(n,e,o,t);i(r,a,e)}),r};k.groupBy=function(t,e,n){return P(t,e,n,function(t,e,n){(k.has(t,e)?t[e]:t[e]=[]).push(n)})},k.countBy=function(t,e,n){return P(t,e,n,function(t,e){k.has(t,e)||(t[e]=0),t[e]++})},k.sortedIndex=function(t,e,n,i){n=null==n?k.identity:S(n);for(var r=n.call(i,e),s=0,o=t.length;o>s;){var a=s+o>>>1;n.call(i,t[a])<r?s=a+1:o=a}return s},k.toArray=function(t){return t?k.isArray(t)?a.call(t):t.length===+t.length?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:t.length===+t.length?t.length:k.keys(t).length},k.first=k.head=k.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:a.call(t,0,e)},k.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},k.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},k.rest=k.tail=k.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var I=function(t,e,n){return T(t,function(t){k.isArray(t)?e?o.apply(n,t):I(t,e,n):n.push(t)}),n};k.flatten=function(t,e){return I(t,e,[])},k.without=function(t){return k.difference(t,a.call(arguments,1))},k.uniq=k.unique=function(t,e,n,i){k.isFunction(e)&&(i=n,n=e,e=!1);var r=n?k.map(t,n,i):t,s=[],o=[];return T(r,function(n,i){(e?i&&o[o.length-1]===n:k.contains(o,n))||(o.push(n),s.push(t[i]))}),s},k.union=function(){return k.uniq(c.apply(i,arguments))},k.intersection=function(t){var e=a.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.indexOf(e,t)>=0})})},k.difference=function(t){var e=c.apply(i,a.call(arguments,1));return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){for(var t=a.call(arguments),e=k.max(k.pluck(t,"length")),n=new Array(e),i=0;e>i;i++)n[i]=k.pluck(t,""+i);return n},k.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},k.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;r>i;i++)if(t[i]===e)return i;return-1},k.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},k.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,s=new Array(i);i>r;)s[r++]=t,t+=n;return s},k.bind=function(t,e){if(t.bind===_&&_)return _.apply(t,a.call(arguments,1));var n=a.call(arguments,2);return function(){return t.apply(e,n.concat(a.call(arguments)))}},k.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},k.bindAll=function(t){var e=a.call(arguments,1);return 0===e.length&&(e=k.functions(t)),T(e,function(e){t[e]=k.bind(t[e],t)}),t},k.memoize=function(t,e){var n={};return e||(e=k.identity),function(){var i=e.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},k.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(a.call(arguments,1)))},k.throttle=function(t,e){var n,i,r,s,o=0,a=function(){o=new Date,r=null,s=t.apply(n,i)};return function(){var c=new Date,l=e-(c-o);return n=this,i=arguments,0>=l?(clearTimeout(r),r=null,o=c,s=t.apply(n,i)):r||(r=setTimeout(a,l)),s}},k.debounce=function(t,e,n){var i,r;return function(){var s=this,o=arguments,a=function(){i=null,n||(r=t.apply(s,o))},c=n&&!i;return clearTimeout(i),i=setTimeout(a,e),c&&(r=t.apply(s,o)),r}},k.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},k.wrap=function(t,e){return function(){var n=[t];return o.apply(n,arguments),e.apply(this,n)}},k.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},k.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},k.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)k.has(t,n)&&(e[e.length]=n);return e},k.values=function(t){var e=[];for(var n in t)k.has(t,n)&&e.push(t[n]);return e},k.pairs=function(t){var e=[];for(var n in t)k.has(t,n)&&e.push([n,t[n]]);return e},k.invert=function(t){var e={};for(var n in t)k.has(t,n)&&(e[t[n]]=n);return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=function(t){return T(a.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},k.pick=function(t){var e={},n=c.apply(i,a.call(arguments,1));return T(n,function(n){n in t&&(e[n]=t[n])}),e},k.omit=function(t){var e={},n=c.apply(i,a.call(arguments,1));for(var r in t)k.contains(n,r)||(e[r]=t[r]);return e},k.defaults=function(t){return T(a.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t};var N=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var r=l.call(t);if(r!=l.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var s=n.length;s--;)if(n[s]==t)return i[s]==e;n.push(t),i.push(e);var o=0,a=!0;if("[object Array]"==r){if(o=t.length,a=o==e.length)for(;o--&&(a=N(t[o],e[o],n,i)););}else{var c=t.constructor,u=e.constructor;if(c!==u&&!(k.isFunction(c)&&c instanceof c&&k.isFunction(u)&&u instanceof u))return!1;for(var h in t)if(k.has(t,h)&&(o++,!(a=k.has(e,h)&&N(t[h],e[h],n,i))))break;if(a){for(h in e)if(k.has(e,h)&&!o--)break;a=!o}}return n.pop(),i.pop(),a};k.isEqual=function(t,e){return N(t,e,[],[])},k.isEmpty=function(t){if(null==t)return!0;if(k.isArray(t)||k.isString(t))return 0===t.length;for(var e in t)if(k.has(t,e))return!1;return!0},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=x||function(t){return"[object Array]"==l.call(t)},k.isObject=function(t){return t===Object(t)},T(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(t){return"function"==typeof t}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!=+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return u.call(t,e)},k.noConflict=function(){return t._=e,this},k.identity=function(t){return t},k.times=function(t,e,n){for(var i=Array(t),r=0;t>r;r++)i[r]=e.call(n,r);return i},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var $={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};$.unescape=k.invert($.escape);var A={escape:new RegExp("["+k.keys($.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys($.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(e){return null==e?"":(""+e).replace(A[t],function(e){return $[t][e]})}}),k.result=function(t,e){if(null==t)return null;var n=t[e];return k.isFunction(n)?n.call(t):n},k.mixin=function(t){T(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),H.call(this,n.apply(k,t))}})};var O=0;k.uniqueId=function(t){var e=++O+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,e,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(r,function(e,n,i,r,a){return o+=t.slice(s,a).replace(M,function(t){return"\\"+D[t]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),s=a+e.length,e}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(n.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(e)return i(e,k);var c=function(t){return i.call(this,t,k)};return c.source="function("+(n.variable||"obj")+"){\n"+o+"}",c},k.chain=function(t){return k(t).chain()};var H=function(t){return this._chain?k(t).chain():t};k.mixin(k),T(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],H.call(this,n)}}),T(["concat","join","slice"],function(t){var e=i[t];k.prototype[t]=function(){return H.call(this,e.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var t,e=this,n=e.Backbone,i=[],r=i.push,s=i.slice,o=i.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="1.0.0";var a=e._;a||"undefined"==typeof require||(a=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var c=t.Events={on:function(t,e,n){if(!u(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!u(this,"once",t,[e,n])||!e)return this;var i=this,r=a.once(function(){i.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var i,r,s,o,c,l,h,d;if(!this._events||!u(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(o=t?[t]:a.keys(this._events),c=0,l=o.length;l>c;c++)if(t=o[c],s=this._events[t]){if(this._events[t]=i=[],e||n)for(h=0,d=s.length;d>h;h++)r=s[h],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);
i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!u(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&h(n,e),i&&h(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var r=!e&&!n;"object"==typeof e&&(n=this),t&&((i={})[t._listenerId]=t);for(var s in i)i[s].off(e,n,this),r&&delete this._listeners[s];return this}},l=/\s+/,u=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var s=n.split(l),o=0,a=s.length;a>o;o++)t[e].apply(t,[s[o]].concat(i));return!1}return!0},h=function(t,e){var n,i=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}},d={listenTo:"on",listenToOnce:"once"};a.each(d,function(t,e){c[e]=function(e,n,i){var r=this._listeners||(this._listeners={}),s=e._listenerId||(e._listenerId=a.uniqueId("l"));return r[s]=e,"object"==typeof n&&(i=this),e[t](n,i,this),this}}),c.bind=c.on,c.unbind=c.off,a.extend(t,c);var f=t.Model=function(t,e){var n,i=t||{};e||(e={}),this.cid=a.uniqueId("c"),this.attributes={},a.extend(this,a.pick(e,p)),e.parse&&(i=this.parse(i,e)||{}),(n=a.result(this,"defaults"))&&(i=a.defaults({},i,n)),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)},p=["url","urlRoot","collection"];a.extend(f.prototype,c,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return a.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,r,s,o,c,l,u,h;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;s=n.unset,c=n.silent,o=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=a.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)e=r[i],a.isEqual(h[i],e)||o.push(i),a.isEqual(u[i],e)?delete this.changed[i]:this.changed[i]=e,s?delete h[i]:h[i]=e;if(!c){o.length&&(this._pending=!0);for(var d=0,f=o.length;f>d;d++)this.trigger("change:"+o[d],this,h[o[d]],n)}if(l)return this;if(!c)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,a.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,a.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!a.isEmpty(this.changed):a.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?a.clone(this.changed):!1;var e,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in t)a.isEqual(i[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){return e.set(e.parse(i,t),t)?(n&&n(e,i,t),e.trigger("sync",e,i,t),void 0):!1},H(this,t),this.sync("read",this,t)},save:function(t,e,n){var i,r,s,o=this.attributes;if(null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=a.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=a.extend({},o,i)),void 0===n.parse&&(n.parse=!0);var c=this,l=n.success;return n.success=function(t){c.attributes=o;var e=c.parse(t,n);return n.wait&&(e=a.extend(i||{},e)),a.isObject(e)&&!c.set(e,n)?!1:(l&&l(c,t,n),c.trigger("sync",c,t,n),void 0)},H(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),s=this.sync(r,this,n),i&&n.wait&&(this.attributes=o),s},destroy:function(t){t=t?a.clone(t):{};var e=this,n=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(r){(t.wait||e.isNew())&&i(),n&&n(e,r,t),e.isNew()||e.trigger("sync",e,r,t)},this.isNew())return t.success(),!1;H(this,t);var r=this.sync("delete",this,t);return t.wait||i(),r},url:function(){var t=a.result(this,"urlRoot")||a.result(this.collection,"url")||M();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},a.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=a.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,a.extend(e||{},{validationError:n})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];a.each(m,function(t){f.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),a[t].apply(a,e)}});var g=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,a.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};a.extend(g.prototype,c,{model:f,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,a.defaults(e||{},y))},remove:function(t,e){t=a.isArray(t)?t.slice():[t],e||(e={});var n,i,r,s;for(n=0,i=t.length;i>n;n++)s=this.get(t[n]),s&&(delete this._byId[s.id],delete this._byId[s.cid],r=this.indexOf(s),this.models.splice(r,1),this.length--,e.silent||(e.index=r,s.trigger("remove",s,this,e)),this._removeReference(s));return this},set:function(t,e){e=a.defaults(e||{},v),e.parse&&(t=this.parse(t,e)),a.isArray(t)||(t=t?[t]:[]);var n,i,s,c,l,u=e.at,h=this.comparator&&null==u&&e.sort!==!1,d=a.isString(this.comparator)?this.comparator:null,f=[],p=[],m={};for(n=0,i=t.length;i>n;n++)(s=this._prepareModel(t[n],e))&&((c=this.get(s))?(e.remove&&(m[c.cid]=!0),e.merge&&(c.set(s.attributes,e),h&&!l&&c.hasChanged(d)&&(l=!0))):e.add&&(f.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,null!=s.id&&(this._byId[s.id]=s)));if(e.remove){for(n=0,i=this.length;i>n;++n)m[(s=this.models[n]).cid]||p.push(s);p.length&&this.remove(p,e)}if(f.length&&(h&&(l=!0),this.length+=f.length,null!=u?o.apply(this.models,[u,0].concat(f)):r.apply(this.models,f)),l&&this.sort({silent:!0}),e.silent)return this;for(n=0,i=f.length;i>n;n++)(s=f[n]).trigger("add",s,this,e);return l&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),this.add(t,a.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return a.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,n){e||(e=this.comparator);var i=a.isFunction(e)?e:function(t){return t.get(e)};return a.sortedIndex(this.models,t,i,n)},pluck:function(t){return a.invoke(this.models,"get",t)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?a.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,i=e.success;return e.success=function(r){e.wait&&n.add(t,e),i&&i(t,r,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof f)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(b,function(t){g.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),a[t].apply(a,e)}});var x=["groupBy","countBy","sortBy"];a.each(x,function(t){g.prototype[t]=function(e,n){var i=a.isFunction(e)?e:function(t){return t.get(e)};return a[t](this.models,i,n)}});var w=t.View=function(t){this.cid=a.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];a.extend(w.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=a.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(a.isFunction(n)||(n=this[t[e]]),n){var i=e.match(_),r=i[1],s=i[2];n=a.bind(n,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,n):this.$el.on(r,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=a.extend({},a.result(this,"options"),t)),a.extend(this,a.pick(t,k)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className"));var n=t.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,i){var r=T[e];a.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(i.url||(s.url=a.result(n,"url")||M()),null!=i.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",i.emulateJSON&&(s.data._method=r);var o=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"!==s.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var c=i.xhr=t.ajax(a.extend(s,i));return n.trigger("request",n,c,i),c};var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var E=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,P=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(E.prototype,c,{initialize:function(){},route:function(e,n,i){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var r=this;return t.history.route(e,function(s){var o=r._extractParameters(e,s);i&&i.apply(r,o),r.trigger.apply(r,["route:"+n].concat(o)),r.trigger("route",n,o),t.history.trigger("route",r,n,o)}),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var t,e=a.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(I,"\\$&").replace(C,"(?:$1)?").replace(S,function(t,e){return e?t:"([^/]+)"}).replace(P,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return a.map(n,function(t){return t?decodeURIComponent(t):null})}});var N=t.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,O=/msie [\w.]+/,j=/\/$/;N.started=!1,a.extend(N.prototype,c,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(j,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace($,"")},start:function(e){if(N.started)throw new Error("Backbone.history has already been started");N.started=!0,this.options=a.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,r=O.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(A,"/"),r&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var s=this.location,o=s.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&s.hash&&(this.fragment=this.getHash().replace($,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),N.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=a.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!N.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var n=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),t.history=new N;var D=function(t,e){var n,i=this;n=t&&a.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},a.extend(n,i,e);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&a.extend(n.prototype,t),n.__super__=i.prototype,n};f.extend=g.extend=E.extend=w.extend=N.extend=D;var M=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}}}.call(this);var Skull={View:void 0};Skull.View=Backbone.View.extend({addView:function(t,e){return this["_"+t]||(this["_"+t]=new e({name:t,parent:this})),this["_"+t]},rootView:function(){for(var t=this,e=t;t=t.parent;)e=t;return e},router:function(){return this.rootView().router},route:function(t){var e=this;return this.router().route(t,t,function(){e.followRoute(t,t.split("/")[0],arguments)})},initialize:function(t){_.bindAll(this),t&&(this.name=t.name,this.parent=t.parent),_.isFunction(this.beforeActivate)&&this.beforeActivate(),this.createViewGetters(),_.isFunction(this.activate)&&this.activate()},navigate:function(t){window.location.href=t},createViewGetters:function(){_.each(Object.getPrototypeOf(this).constructor.views,function(t,e){var n=e[0].toLowerCase()+e.substring(1);Object.defineProperty(this,n,{configurable:!0,enumerable:!0,get:function(){return this.addView(n,t)}}),this.$(t.el).length>0&&this[n]},this)}},{views:{},addChild:function(t,e,n){var i=Skull.View.extend(e,_.extend({views:{}},n));return i.el=e.el,this.views[t]=i,this}});var App=window.App=Skull.View.extend({el:"html",events:{"click a.my_profile_link":"toggleMenu"},beforeActivate:function(){this.$search=this.$("#pg_search"),this.router=new Backbone.Router},activate:function(){this.$(".best_in_place").best_in_place(),this.$dropdown=this.$(".dropdown.user"),this.flash(),this.notices(),Backbone.history.start({pushState:!1}),this.$("input[data-mask]").each(this.maskElement)},flash:function(){var t=this;this.$flash=this.$(".flash"),setTimeout(function(){t.$flash.slideDown("slow")},100),this.$(".flash a").length||setTimeout(function(){t.$flash.slideUp("slow")},16e3),$(window).click(function(){t.$(".flash a").slideUp()})},notices:function(){var t=this;setTimeout(function(){this.$(".notice-box").fadeIn("slow")},100),this.$(".notice-box").length&&setTimeout(function(){t.$(".notice-box").fadeOut("slow")},16e3),$(".notice-box a.notice-close").on("click",function(){t.$(".notice-box").fadeOut("slow")})},maskElement:function(t,e){var n=this.$(e);n.mask(n.data("mask")+"")},toggleMenu:function(){this.$dropdown.slideToggle("fast")}});$(function(){window.app=new App}),/*! bigSlide - v0.2.1 - 2013-11-13
* http://ascott1.github.io/bigSlide.js/
* Copyright (c) 2013 Adam D. Scott; Licensed MIT */
!function(t){"use strict";t.fn.bigSlide=function(e){var n=t.extend({menu:"#menu",push:".push",menuWidth:"15.625em",speed:"300"},e),i=this,r=t(n.menu),s=t(n.push),o=n.menuWidth,a={position:"fixed",top:"0",bottom:"0",left:"-"+n.menuWidth,width:n.menuWidth,height:"100%"},c={"-webkit-transition":"left "+n.speed+"ms ease","-moz-transition":"left "+n.speed+"ms ease","-ms-transition":"left "+n.speed+"ms ease","-o-transition":"left "+n.speed+"ms ease",transition:"left "+n.speed+"ms ease"};return r.css(a),r.css(c),s.css(c),r.state="closed",r.open=function(){r.state="open",r.css("left","0"),s.css("left",o)},r.close=function(){r.state="closed",r.css("left","-"+o),s.css("left","0")},i.on("click.bigSlide",function(t){t.preventDefault(),"closed"===r.state?r.open():r.close()}),r}}(jQuery),/* 
 * Blur.js
 * Copyright Jacob Kelley
 * MIT License
 */
function(t){t.fn.blurjs=function(e){function n(t,e,n,r,s,o){if(!(isNaN(o)||1>o)){o|=0;var l,u=t.getContext("2d");try{try{l=u.getImageData(e,n,r,s)}catch(h){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),l=u.getImageData(e,n,r,s)}catch(h){throw alert("Cannot access local image"),new Error("unable to access local image data: "+h)}}}catch(h){throw alert("Cannot access image"),new Error("unable to access image data: "+h)}var d,f,p,m,g,v,y,b,x,w,_,k,T,E,C,S,P,I,N,$,A=l.data,O=o+o+1,j=r-1,D=s-1,M=o+1,H=M*(M+1)/2,B=new i,R=B;for(p=1;O>p;p++)if(R=R.next=new i,p==M)var F=R;R.next=B;var L=null,q=null;y=v=0;var W=a[o],U=c[o];for(f=0;s>f;f++){for(E=C=S=b=x=w=0,_=M*(P=A[v]),k=M*(I=A[v+1]),T=M*(N=A[v+2]),b+=H*P,x+=H*I,w+=H*N,R=B,p=0;M>p;p++)R.r=P,R.g=I,R.b=N,R=R.next;for(p=1;M>p;p++)m=v+((p>j?j:p)<<2),b+=(R.r=P=A[m])*($=M-p),x+=(R.g=I=A[m+1])*$,w+=(R.b=N=A[m+2])*$,E+=P,C+=I,S+=N,R=R.next;for(L=B,q=F,d=0;r>d;d++)A[v]=b*W>>U,A[v+1]=x*W>>U,A[v+2]=w*W>>U,b-=_,x-=k,w-=T,_-=L.r,k-=L.g,T-=L.b,m=y+((m=d+o+1)<j?m:j)<<2,E+=L.r=A[m],C+=L.g=A[m+1],S+=L.b=A[m+2],b+=E,x+=C,w+=S,L=L.next,_+=P=q.r,k+=I=q.g,T+=N=q.b,E-=P,C-=I,S-=N,q=q.next,v+=4;y+=r}for(d=0;r>d;d++){for(C=S=E=x=w=b=0,v=d<<2,_=M*(P=A[v]),k=M*(I=A[v+1]),T=M*(N=A[v+2]),b+=H*P,x+=H*I,w+=H*N,R=B,p=0;M>p;p++)R.r=P,R.g=I,R.b=N,R=R.next;for(g=r,p=1;o>=p;p++)v=g+d<<2,b+=(R.r=P=A[v])*($=M-p),x+=(R.g=I=A[v+1])*$,w+=(R.b=N=A[v+2])*$,E+=P,C+=I,S+=N,R=R.next,D>p&&(g+=r);for(v=d,L=B,q=F,f=0;s>f;f++)m=v<<2,A[m]=b*W>>U,A[m+1]=x*W>>U,A[m+2]=w*W>>U,b-=_,x-=k,w-=T,_-=L.r,k-=L.g,T-=L.b,m=d+((m=f+M)<D?m:D)*r<<2,b+=E+=L.r=A[m],x+=C+=L.g=A[m+1],w+=S+=L.b=A[m+2],L=L.next,_+=P=q.r,k+=I=q.g,T+=N=q.b,E-=P,C-=I,S-=N,q=q.next,v+=r}u.putImageData(l,e,n)}}function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var r=document.createElement("canvas"),s=!1,o=t(this).selector.replace(/[^a-zA-Z0-9]/g,"");if(r.getContext){e=t.extend({source:"body",radius:5,overlay:"",offset:{x:0,y:0},optClass:"",cache:!1,cacheKeyPrefix:"blurjs-",draggable:!1,debug:!1},e);var a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],c=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];return this.each(function(){var i=t(this),a=t(e.source),c=a.css("backgroundImage").replace(/"/g,"").replace(/url\(|\)$/gi,"");ctx=r.getContext("2d"),tempImg=new Image,tempImg.onload=function(){if(s)var t=tempImg.src;else{r.style.display="none",r.width=tempImg.width,r.height=tempImg.height,ctx.drawImage(tempImg,0,0),n(r,0,0,r.width,r.height,e.radius),0!=e.overlay&&(ctx.beginPath(),ctx.rect(0,0,tempImg.width,tempImg.width),ctx.fillStyle=e.overlay,ctx.fill());var t=r.toDataURL();if(e.cache)try{e.debug&&console.log("Cache Set"),localStorage.setItem(e.cacheKeyPrefix+o+"-"+c+"-data-image",t)}catch(l){console.log(l)}}var u=a.css("backgroundAttachment"),h="fixed"==u?"":"-"+(i.offset().left-a.offset().left-e.offset.x)+"px -"+(i.offset().top-a.offset().top-e.offset.y)+"px";i.css({"background-image":'url("'+t+'")',"background-repeat":a.css("backgroundRepeat"),"background-position":h,"background-attachment":u}),0!=e.optClass&&i.addClass(e.optClass),e.draggable&&(i.css({"background-attachment":"fixed","background-position":"0 0"}),i.draggable())},Storage.prototype.cacheChecksum=function(t){var n="";for(var i in t){var r=t[i];n+="[object Object]"==r.toString()?(r.x.toString()+r.y.toString()+",").replace(/[^a-zA-Z0-9]/g,""):(r+",").replace(/[^a-zA-Z0-9]/g,"")}var s=this.getItem(e.cacheKeyPrefix+o+"-"+c+"-options-cache");s!=n&&(this.removeItem(e.cacheKeyPrefix+o+"-"+c+"-options-cache"),this.setItem(e.cacheKeyPrefix+o+"-"+c+"-options-cache",n),e.debug&&console.log("Settings Changed, Cache Emptied"))};var l=null;e.cache&&(localStorage.cacheChecksum(e),l=localStorage.getItem(e.cacheKeyPrefix+o+"-"+c+"-data-image")),null!=l?(e.debug&&console.log("Cache Used"),s=!0,tempImg.src=l):(e.debug&&console.log("Source Used"),tempImg.src=c)})}}}(jQuery),/**
* Bootstrap.js by @fat & @mdo
* plugins: bootstrap-modal.js, bootstrap-dropdown.js
* Copyright 2013 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(t){var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]!==t.target&&!e.$element.has(t.target).length&&e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var i=t(this),r=i.data("modal"),s=t.extend({},t.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new e(this,s)),"string"==typeof n?r[n]():s.show&&r.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),r=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),n.data());e.preventDefault(),r.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(t){function e(){t(".dropdown-backdrop").remove(),t(i).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,i=e.attr("data-target");return i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&t(i),n&&n.length||(n=e.parent()),n}var i="[data-toggle=dropdown]",r=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,s=t(this);if(!s.is(".disabled, :disabled"))return i=n(s),r=i.hasClass("open"),e(),r||("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertBefore(t(this)).on("click",e),i.toggleClass("open")),s.focus(),!1},keydown:function(e){var r,s,o,a,c;if(/(38|40|27)/.test(e.keyCode)&&(r=t(this),e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled"))){if(o=n(r),a=o.hasClass("open"),!a||a&&27==e.keyCode)return 27==e.which&&o.find(i).focus(),r.click();s=t("[role=menu] li:not(.divider):visible a",o),s.length&&(c=s.index(s.filter(":focus")),38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<s.length-1&&c++,~c||(c=0),s.eq(c).focus())}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery);var Mobify=window.Mobify=window.Mobify||{};Mobify.$=Mobify.$||window.Zepto||window.jQuery,Mobify.UI=Mobify.UI||{classPrefix:"m-"},function(t,e){t.support=t.support||{},t.extend(t.support,{touch:"ontouchend"in e})}(Mobify.$,document),Mobify.UI.Utils=function(t){var e={},n=t.support;e.events=n.touch?{down:"touchstart",move:"touchmove",up:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup"},e.getCursorPosition=n.touch?function(t){return t=t.originalEvent||t,{x:t.touches[0].clientX,y:t.touches[0].clientY}}:function(t){return{x:t.clientX,y:t.clientY}},e.getProperty=function(t){for(var e=["Webkit","Moz","O","ms",""],n=document.createElement("div").style,i=0;i<e.length;++i)if(void 0!==n[e[i]+t])return e[i]+t},t.extend(n,{transform:!!e.getProperty("Transform"),transform3d:!!(window.WebKitCSSMatrix&&"m11"in new WebKitCSSMatrix)});var i=e.getProperty("Transform");e.translateX=n.transform3d?function(t,e){"number"==typeof e&&(e+="px"),t.style[i]="translate3d("+e+",0,0)"}:n.transform?function(t,e){"number"==typeof e&&(e+="px"),t.style[i]="translate("+e+",0)"}:function(t,e){"number"==typeof e&&(e+="px"),t.style.left=e};var r=(e.getProperty("Transition"),e.getProperty("TransitionDuration"));return e.setTransitions=function(t,e){t.style[r]=e?"":"0s"},e.requestAnimationFrame=function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},e=function(){t.apply(window,arguments)};return e}(),e}(Mobify.$),Mobify.UI.Carousel=function(t,e){var n={dragRadius:10,moveRadius:20,classPrefix:void 0,classNames:{outer:"carousel",inner:"carousel-inner",item:"item",center:"center",touch:"has-touch",dragging:"dragging",active:"active"}},i=t.support,r=function(t,e){this.setOptions(e),this.initElements(t),this.initOffsets(),this.initAnimation(),this.bind()};return r.defaults=n,r.prototype.setOptions=function(e){var i=this.options||t.extend({},n,e);i.classNames=t.extend({},i.classNames,e.classNames||{}),i.classPrefix=i.classPrefix||Mobify.UI.classPrefix,this.options=i},r.prototype.initElements=function(e){this._index=1,this.element=e,this.$element=t(e),this.$inner=this.$element.find("."+this._getClass("inner")),this.$items=this.$inner.children(),this.$start=this.$items.eq(0),this.$sec=this.$items.eq(1),this.$current=this.$items.eq(this._index),this._length=this.$items.length,this._alignment=this.$element.hasClass(this._getClass("center"))?.5:0},r.prototype.initOffsets=function(){this._offset=0,this._offsetDrag=0},r.prototype.initAnimation=function(){this.animating=!1,this.dragging=!1,this._needsUpdate=!1,this._enableAnimation()},r.prototype._getClass=function(t){return this.options.classPrefix+this.options.classNames[t]},r.prototype._enableAnimation=function(){this.animating||(e.setTransitions(this.$inner[0],!0),this.$inner.removeClass(this._getClass("dragging")),this.animating=!0)},r.prototype._disableAnimation=function(){this.animating&&(e.setTransitions(this.$inner[0],!1),this.$inner.addClass(this._getClass("dragging")),this.animating=!1)},r.prototype.update=function(){if(!this._needsUpdate){var t=this;this._needsUpdate=!0,e.requestAnimationFrame(function(){t._update()})}},r.prototype._update=function(){if(this._needsUpdate){var t=Math.round(this._offset+this._offsetDrag);e.translateX(this.$inner[0],t),this._needsUpdate=!1}},r.prototype.bind=function(){function n(t){i.touch||t.preventDefault(),d=!0,f=!1,a=e.getCursorPosition(t),c=0,l=0,u=!1,m._disableAnimation(),x=1==m._index,w=m._index==m._length}function r(t){if(d&&!f){var n=e.getCursorPosition(t);c=a.x-n.x,l=a.y-n.y,u||h(c)>h(l)&&h(c)>p?(u=!0,t.preventDefault(),x&&0>c?c=c*-b/(c-b):w&&c>0&&(c=c*b/(c+b)),m._offsetDrag=-c,m.update()):h(l)>h(c)&&h(l)>p&&(f=!0)}}function s(){d&&(d=!1,m._enableAnimation(),!f&&h(c)>y.moveRadius?c>0?m.next():m.prev():(m._offsetDrag=0,m.update()))}function o(t){u&&t.preventDefault()}var a,c,l,u,h=Math.abs,d=!1,f=!1,p=this.options.dragRadius,m=this,g=this.$element,v=this.$inner,y=this.options,b=this.$element.width(),x=!1,w=!1;v.on(e.events.down+".carousel",n).on(e.events.move+".carousel",r).on(e.events.up+".carousel",s).on("click.carousel",o).on("mouseout.carousel",s),g.on("click","[data-slide]",function(e){e.preventDefault();var n=t(this).attr("data-slide"),i=parseInt(n,10);isNaN(i)?m[n]():m.move(i)}),g.on("afterSlide",function(t,e,n){m.$items.eq(e-1).removeClass(m._getClass("active")),m.$items.eq(n-1).addClass(m._getClass("active")),m.$element.find("[data-slide='"+e+"']").removeClass(m._getClass("active")),m.$element.find("[data-slide='"+n+"']").addClass(m._getClass("active"))}),g.trigger("beforeSlide",[1,1]),g.trigger("afterSlide",[1,1]),m.update()},r.prototype.unbind=function(){this.$inner.off()},r.prototype.destroy=function(){this.unbind(),this.$element.trigger("destroy"),this.$element.remove(),this.$element=null,this.$inner=null,this.$start=null,this.$current=null},r.prototype.move=function(t,e){var n=this.$element,i=(this.$inner,this.$items),r=this.$start,s=this.$current,o=this._length,a=this._index;e=e||{},1>t?t=1:t>this._length&&(t=o),t==this._index,n.trigger("beforeSlide",[a,t]),this.$current=s=i.eq(t-1);var c=s.prop("offsetLeft")+s.prop("clientWidth")*this._alignment,l=r.prop("offsetLeft")+r.prop("clientWidth")*this._alignment,u=-(c-l);this._offset=u,this._offsetDrag=0,this._index=t,this.update(),n.trigger("afterSlide",[a,t])},r.prototype.next=function(){this.move(this._index+1)},r.prototype.prev=function(){this.move(this._index-1)},r}(Mobify.$,Mobify.UI.Utils),function(t){t.fn.carousel=function(e,n){var i=t.extend({},t.fn.carousel.defaults);return"object"==typeof e&&(i=t(i,e),n=null,e=null),this.each(function(){var r=(t(this),this._carousel);r||(r=new Mobify.UI.Carousel(this,i)),e&&(r[e](n),"destroy"===e&&(r=null)),this._carousel=r}),this},t.fn.carousel.defaults={}}(Mobify.$),function(t){t.fn.extend({customStyle:function(e){var n={selClass:"custom-select",labelClass:"custom-select-label"};return e=t.extend(n,e),t.browser.msie?void 0:this.each(function(){var n,i,r=t(this),s=r.find(":selected"),o=r.prop("id"),a=e;"undefined"==typeof o&&(i=new Date,o="select-id-"+i.getTime(),r.prop("id",o)),r.addClass(a.selClass).after('<label class="'+a.labelClass+'" for="'+o+'">'+s.text()+"</label>"),n=r.next(),r.change(function(){n.text(r.val())})})}})}(jQuery),Skull.Form={checkInput:function(t){t.currentTarget.checkValidity()&&this.$(t.currentTarget).removeClass("error")},setupForm:function(){this.$("input").on("invalid",this.invalid)},invalid:function(t){this.$(t.currentTarget).addClass("error")},validate:function(){var t=!0;return this.$("input:visible").each(function(){t=t&&this.checkValidity()}),this.$("input.error:visible:first").select(),t}},Skull.InfiniteScroll={setupScroll:function(){this.firstPage(),this.$window().scroll(this.onScroll)},firstPage:function(){this.EOF=!1,this.filter.page=1,this.$results.html("")},fetchPage:function(){!this.isLoaderDivVisible()||this.$loader.is(":visible")||this.EOF||(this.$loader.show(),$.get(this.path,this.filter).success(this.onSuccess),this.filter.page+=1)},onSuccess:function(t){""==$.trim(t)&&(this.EOF=!0),this.$results.append(t),this.$loader.hide(),this.trigger("scroll:success",t)},$window:function(){return $(window)},isLoaderDivVisible:function(){return this.$loaderDiv.is(":visible")&&this.$window().scrollTop()+this.$window().height()>this.$loaderDiv.offset().top},onScroll:function(){this.fetchPage()}},function(){!function(t){return t.countdown=function(e,n){var i,r=this;return this.el=e,this.$el=t(e),this.$el.data("countdown",this),this.init=function(){return r.options=t.extend({},t.countdown.defaultOptions,n),r.options.refresh&&(r.interval=setInterval(function(){return r.render()},r.options.refresh)),r.render(),r},i=function(e){var n,i;return e=Date.parse(t.isPlainObject(r.options.date)?r.options.date:new Date(r.options.date)),i=(e-Date.parse(new Date))/1e3,0>=i&&(i=0,r.interval&&r.stop(),r.options.onEnd.apply(r)),n={years:0,days:0,hours:0,min:0,sec:0,millisec:0},i>=31557600&&(n.years=Math.floor(i/31557600),i-=365.25*n.years*86400),i>=86400&&(n.days=Math.floor(i/86400),i-=86400*n.days),i>=3600&&(n.hours=Math.floor(i/3600),i-=3600*n.hours),i>=60&&(n.min=Math.floor(i/60),i-=60*n.min),n.sec=i,n},this.leadingZeros=function(t,e){for(null==e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},this.update=function(t){return r.options.date=t,r},this.render=function(){return r.options.render.apply(r,[i(r.options.date)]),r},this.stop=function(){return r.interval&&clearInterval(r.interval),r.interval=null,r},this.start=function(e){return null==e&&(e=r.options.refresh||t.countdown.defaultOptions.refresh),r.interval&&clearInterval(r.interval),r.render(),r.options.refresh=e,r.interval=setInterval(function(){return r.render()},r.options.refresh),r},this.init()},t.countdown.defaultOptions={date:"June 7, 2087 15:03:25",refresh:1e3,onEnd:t.noop,render:function(e){return t(this.el).html(""+e.years+" years, "+e.days+" days, "+this.leadingZeros(e.hours)+" hours, "+this.leadingZeros(e.min)+" min and "+this.leadingZeros(e.sec)+" sec")}},t.fn.countdown=function(e){return t.each(this,function(n,i){var r;return r=t(i),r.data("countdown")?void 0:r.data("countdown",new t.countdown(i,e))})},void 0}(jQuery)}.call(this),/*
 * jQuery Cycle Plugin (with Transition Definitions)
 * Examples and documentation at: http://jquery.malsup.com/cycle/
 * Copyright (c) 2007-2013 M. Alsup
 * Version: 3.0.3 (11-JUL-2013)
 * Dual licensed under the MIT and GPL licenses.
 * http://jquery.malsup.com/license.html
 * Requires: jQuery v1.7.1 or later
 */
function(t,e){function n(e){t.fn.cycle.debug&&i(e)}function i(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "))}function r(e,n,i){var r=t(e).data("cycle.opts");if(r){var s=!!e.cyclePause;s&&r.paused?r.paused(e,r,n,i):!s&&r.resumed&&r.resumed(e,r,n,i)}}function s(n,s,o){function c(e,n,r){if(!e&&n===!0){var s=t(r).data("cycle.opts");if(!s)return i("options not found, can not resume"),!1;r.cycleTimeout&&(clearTimeout(r.cycleTimeout),r.cycleTimeout=0),d(s.elements,s,1,!s.backwards)}}if(n.cycleStop===e&&(n.cycleStop=0),(s===e||null===s)&&(s={}),s.constructor==String){switch(s){case"destroy":case"stop":var l=t(n).data("cycle.opts");return l?(n.cycleStop++,n.cycleTimeout&&clearTimeout(n.cycleTimeout),n.cycleTimeout=0,l.elements&&t(l.elements).stop(),t(n).removeData("cycle.opts"),"destroy"==s&&a(n,l),!1):!1;case"toggle":return n.cyclePause=1===n.cyclePause?0:1,c(n.cyclePause,o,n),r(n),!1;case"pause":return n.cyclePause=1,r(n),!1;case"resume":return n.cyclePause=0,c(!1,o,n),r(n),!1;case"prev":case"next":return(l=t(n).data("cycle.opts"))?("string"==typeof o&&(l.oneTimeFx=o),t.fn.cycle[s](l),!1):(i('options not found, "prev/next" ignored'),!1);default:s={fx:s}}return s}if(s.constructor==Number){var u=s;return(s=t(n).data("cycle.opts"))?0>u||u>=s.elements.length?(i("invalid slide index: "+u),!1):(s.nextSlide=u,n.cycleTimeout&&(clearTimeout(n.cycleTimeout),n.cycleTimeout=0),"string"==typeof o&&(s.oneTimeFx=o),d(s.elements,s,1,u>=s.currSlide),!1):(i("options not found, can not advance slide"),!1)}return s}function o(e,n){if(!t.support.opacity&&n.cleartype&&e.style.filter)try{e.style.removeAttribute("filter")}catch(i){}}function a(e,n){n.next&&t(n.next).unbind(n.prevNextEvent),n.prev&&t(n.prev).unbind(n.prevNextEvent),(n.pager||n.pagerAnchorBuilder)&&t.each(n.pagerAnchors||[],function(){this.unbind().remove()}),n.pagerAnchors=null,t(e).unbind("mouseenter.cycle mouseleave.cycle"),n.destroy&&n.destroy(n)}function c(n,s,a,c,f){var v,y=t.extend({},t.fn.cycle.defaults,c||{},t.metadata?n.metadata():t.meta?n.data():{}),b=t.isFunction(n.data)?n.data(y.metaAttr):null;b&&(y=t.extend(y,b)),y.autostop&&(y.countdown=y.autostopCount||a.length);var x=n[0];if(n.data("cycle.opts",y),y.$cont=n,y.stopCount=x.cycleStop,y.elements=a,y.before=y.before?[y.before]:[],y.after=y.after?[y.after]:[],!t.support.opacity&&y.cleartype&&y.after.push(function(){o(this,y)}),y.continuous&&y.after.push(function(){d(a,y,0,!y.backwards)}),l(y),t.support.opacity||!y.cleartype||y.cleartypeNoBg||g(s),"static"==n.css("position")&&n.css("position","relative"),y.width&&n.width(y.width),y.height&&"auto"!=y.height&&n.height(y.height),y.startingSlide!==e?(y.startingSlide=parseInt(y.startingSlide,10),y.startingSlide>=a.length||y.startSlide<0?y.startingSlide=0:v=!0):y.startingSlide=y.backwards?a.length-1:0,y.random){y.randomMap=[];for(var w=0;w<a.length;w++)y.randomMap.push(w);if(y.randomMap.sort(function(){return Math.random()-.5}),v)for(var _=0;_<a.length;_++)y.startingSlide==y.randomMap[_]&&(y.randomIndex=_);else y.randomIndex=1,y.startingSlide=y.randomMap[1]}else y.startingSlide>=a.length&&(y.startingSlide=0);y.currSlide=y.startingSlide||0;var k=y.startingSlide;s.css({position:"absolute",top:0,left:0}).hide().each(function(e){var n;n=y.backwards?k?k>=e?a.length+(e-k):k-e:a.length-e:k?e>=k?a.length-(e-k):k-e:a.length-e,t(this).css("z-index",n)}),t(a[k]).css("opacity",1).show(),o(a[k],y),y.fit&&(y.aspect?s.each(function(){var e=t(this),n=y.aspect===!0?e.width()/e.height():y.aspect;y.width&&e.width()!=y.width&&(e.width(y.width),e.height(y.width/n)),y.height&&e.height()<y.height&&(e.height(y.height),e.width(y.height*n))}):(y.width&&s.width(y.width),y.height&&"auto"!=y.height&&s.height(y.height))),!y.center||y.fit&&!y.aspect||s.each(function(){var e=t(this);e.css({"margin-left":y.width?(y.width-e.width())/2+"px":0,"margin-top":y.height?(y.height-e.height())/2+"px":0})}),!y.center||y.fit||y.slideResize||s.each(function(){var e=t(this);e.css({"margin-left":y.width?(y.width-e.width())/2+"px":0,"margin-top":y.height?(y.height-e.height())/2+"px":0})});var T=(y.containerResize||y.containerResizeHeight)&&n.innerHeight()<1;if(T){for(var E=0,C=0,S=0;S<a.length;S++){var P=t(a[S]),I=P[0],N=P.outerWidth(),$=P.outerHeight();N||(N=I.offsetWidth||I.width||P.attr("width")),$||($=I.offsetHeight||I.height||P.attr("height")),E=N>E?N:E,C=$>C?$:C}y.containerResize&&E>0&&C>0&&n.css({width:E+"px",height:C+"px"}),y.containerResizeHeight&&C>0&&n.css({height:C+"px"})}var A=!1;if(y.pause&&n.bind("mouseenter.cycle",function(){A=!0,this.cyclePause++,r(x,!0)}).bind("mouseleave.cycle",function(){A&&this.cyclePause--,r(x,!0)}),u(y)===!1)return!1;var O=!1;if(c.requeueAttempts=c.requeueAttempts||0,s.each(function(){var e=t(this);if(this.cycleH=y.fit&&y.height?y.height:e.height()||this.offsetHeight||this.height||e.attr("height")||0,this.cycleW=y.fit&&y.width?y.width:e.width()||this.offsetWidth||this.width||e.attr("width")||0,e.is("img")){var n=0===this.cycleH&&0===this.cycleW&&!this.complete;if(n){if(f.s&&y.requeueOnImageNotLoaded&&++c.requeueAttempts<100)return i(c.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH),setTimeout(function(){t(f.s,f.c).cycle(c)},y.requeueTimeout),O=!0,!1;i("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}return!0}),O)return!1;if(y.cssBefore=y.cssBefore||{},y.cssAfter=y.cssAfter||{},y.cssFirst=y.cssFirst||{},y.animIn=y.animIn||{},y.animOut=y.animOut||{},s.not(":eq("+k+")").css(y.cssBefore),t(s[k]).css(y.cssFirst),y.timeout){y.timeout=parseInt(y.timeout,10),y.speed.constructor==String&&(y.speed=t.fx.speeds[y.speed]||parseInt(y.speed,10)),y.sync||(y.speed=y.speed/2);for(var j="none"==y.fx?0:"shuffle"==y.fx?500:250;y.timeout-y.speed<j;)y.timeout+=y.speed}if(y.easing&&(y.easeIn=y.easeOut=y.easing),y.speedIn||(y.speedIn=y.speed),y.speedOut||(y.speedOut=y.speed),y.slideCount=a.length,y.currSlide=y.lastSlide=k,y.random?(++y.randomIndex==a.length&&(y.randomIndex=0),y.nextSlide=y.randomMap[y.randomIndex]):y.nextSlide=y.backwards?0===y.startingSlide?a.length-1:y.startingSlide-1:y.startingSlide>=a.length-1?0:y.startingSlide+1,!y.multiFx){var D=t.fn.cycle.transitions[y.fx];if(t.isFunction(D))D(n,s,y);else if("custom"!=y.fx&&!y.multiFx)return i("unknown transition: "+y.fx,"; slideshow terminating"),!1}var M=s[k];return y.skipInitializationCallbacks||(y.before.length&&y.before[0].apply(M,[M,M,y,!0]),y.after.length&&y.after[0].apply(M,[M,M,y,!0])),y.next&&t(y.next).bind(y.prevNextEvent,function(){return p(y,1)}),y.prev&&t(y.prev).bind(y.prevNextEvent,function(){return p(y,0)}),(y.pager||y.pagerAnchorBuilder)&&m(a,y),h(y,a),y}function l(e){e.original={before:[],after:[]},e.original.cssBefore=t.extend({},e.cssBefore),e.original.cssAfter=t.extend({},e.cssAfter),e.original.animIn=t.extend({},e.animIn),e.original.animOut=t.extend({},e.animOut),t.each(e.before,function(){e.original.before.push(this)}),t.each(e.after,function(){e.original.after.push(this)})}function u(e){var r,s,o=t.fn.cycle.transitions;if(e.fx.indexOf(",")>0){for(e.multiFx=!0,e.fxs=e.fx.replace(/\s*/g,"").split(","),r=0;r<e.fxs.length;r++){var a=e.fxs[r];s=o[a],s&&o.hasOwnProperty(a)&&t.isFunction(s)||(i("discarding unknown transition: ",a),e.fxs.splice(r,1),r--)}if(!e.fxs.length)return i("No valid transitions named; slideshow terminating."),!1}else if("all"==e.fx){e.multiFx=!0,e.fxs=[];for(var c in o)o.hasOwnProperty(c)&&(s=o[c],o.hasOwnProperty(c)&&t.isFunction(s)&&e.fxs.push(c))}if(e.multiFx&&e.randomizeEffects){var l=Math.floor(20*Math.random())+30;for(r=0;l>r;r++){var u=Math.floor(Math.random()*e.fxs.length);e.fxs.push(e.fxs.splice(u,1)[0])}n("randomized fx sequence: ",e.fxs)}return!0}function h(e,n){e.addSlide=function(i,r){var s=t(i),o=s[0];e.autostopCount||e.countdown++,n[r?"unshift":"push"](o),e.els&&e.els[r?"unshift":"push"](o),e.slideCount=n.length,e.random&&(e.randomMap.push(e.slideCount-1),e.randomMap.sort(function(){return Math.random()-.5})),s.css("position","absolute"),s[r?"prependTo":"appendTo"](e.$cont),r&&(e.currSlide++,e.nextSlide++),t.support.opacity||!e.cleartype||e.cleartypeNoBg||g(s),e.fit&&e.width&&s.width(e.width),e.fit&&e.height&&"auto"!=e.height&&s.height(e.height),o.cycleH=e.fit&&e.height?e.height:s.height(),o.cycleW=e.fit&&e.width?e.width:s.width(),s.css(e.cssBefore),(e.pager||e.pagerAnchorBuilder)&&t.fn.cycle.createPagerAnchor(n.length-1,o,t(e.pager),n,e),t.isFunction(e.onAddSlide)?e.onAddSlide(s):s.hide()}}function d(i,r,s,o){function a(){{var t=0;r.timeout}r.timeout&&!r.continuous?(t=f(i[r.currSlide],i[r.nextSlide],r,o),"shuffle"==r.fx&&(t-=r.speedOut)):r.continuous&&c.cyclePause&&(t=10),t>0&&(c.cycleTimeout=setTimeout(function(){d(i,r,0,!r.backwards)},t))}var c=r.$cont[0],l=i[r.currSlide],u=i[r.nextSlide];if(s&&r.busy&&r.manualTrump&&(n("manualTrump in go(), stopping active transition"),t(i).stop(!0,!0),r.busy=0,clearTimeout(c.cycleTimeout)),r.busy)return n("transition active, ignoring new tx request"),void 0;if(c.cycleStop==r.stopCount&&(0!==c.cycleTimeout||s)){if(!s&&!c.cyclePause&&!r.bounce&&(r.autostop&&--r.countdown<=0||r.nowrap&&!r.random&&r.nextSlide<r.currSlide))return r.end&&r.end(r),void 0;var h=!1;if(!s&&c.cyclePause||r.nextSlide==r.currSlide)a();else{h=!0;var p=r.fx;l.cycleH=l.cycleH||t(l).height(),l.cycleW=l.cycleW||t(l).width(),u.cycleH=u.cycleH||t(u).height(),u.cycleW=u.cycleW||t(u).width(),r.multiFx&&(o&&(r.lastFx===e||++r.lastFx>=r.fxs.length)?r.lastFx=0:!o&&(r.lastFx===e||--r.lastFx<0)&&(r.lastFx=r.fxs.length-1),p=r.fxs[r.lastFx]),r.oneTimeFx&&(p=r.oneTimeFx,r.oneTimeFx=null),t.fn.cycle.resetState(r,p),r.before.length&&t.each(r.before,function(t,e){c.cycleStop==r.stopCount&&e.apply(u,[l,u,r,o])});var m=function(){r.busy=0,t.each(r.after,function(t,e){c.cycleStop==r.stopCount&&e.apply(u,[l,u,r,o])}),c.cycleStop||a()};n("tx firing("+p+"); currSlide: "+r.currSlide+"; nextSlide: "+r.nextSlide),r.busy=1,r.fxFn?r.fxFn(l,u,r,m,o,s&&r.fastOnEvent):t.isFunction(t.fn.cycle[r.fx])?t.fn.cycle[r.fx](l,u,r,m,o,s&&r.fastOnEvent):t.fn.cycle.custom(l,u,r,m,o,s&&r.fastOnEvent)}if(h||r.nextSlide==r.currSlide){var g;r.lastSlide=r.currSlide,r.random?(r.currSlide=r.nextSlide,++r.randomIndex==i.length&&(r.randomIndex=0,r.randomMap.sort(function(){return Math.random()-.5})),r.nextSlide=r.randomMap[r.randomIndex],r.nextSlide==r.currSlide&&(r.nextSlide=r.currSlide==r.slideCount-1?0:r.currSlide+1)):r.backwards?(g=r.nextSlide-1<0,g&&r.bounce?(r.backwards=!r.backwards,r.nextSlide=1,r.currSlide=0):(r.nextSlide=g?i.length-1:r.nextSlide-1,r.currSlide=g?0:r.nextSlide+1)):(g=r.nextSlide+1==i.length,g&&r.bounce?(r.backwards=!r.backwards,r.nextSlide=i.length-2,r.currSlide=i.length-1):(r.nextSlide=g?0:r.nextSlide+1,r.currSlide=g?i.length-1:r.nextSlide-1))}h&&r.pager&&r.updateActivePagerLink(r.pager,r.currSlide,r.activePagerClass)}}function f(t,e,i,r){if(i.timeoutFn){for(var s=i.timeoutFn.call(t,t,e,i,r);"none"!=i.fx&&s-i.speed<250;)s+=i.speed;if(n("calculated timeout: "+s+"; speed: "+i.speed),s!==!1)return s}return i.timeout}function p(e,n){var i=n?1:-1,r=e.elements,s=e.$cont[0],o=s.cycleTimeout;if(o&&(clearTimeout(o),s.cycleTimeout=0),e.random&&0>i)e.randomIndex--,-2==--e.randomIndex?e.randomIndex=r.length-2:-1==e.randomIndex&&(e.randomIndex=r.length-1),e.nextSlide=e.randomMap[e.randomIndex];else if(e.random)e.nextSlide=e.randomMap[e.randomIndex];else if(e.nextSlide=e.currSlide+i,e.nextSlide<0){if(e.nowrap)return!1;e.nextSlide=r.length-1}else if(e.nextSlide>=r.length){if(e.nowrap)return!1;e.nextSlide=0}var a=e.onPrevNextEvent||e.prevNextClick;return t.isFunction(a)&&a(i>0,e.nextSlide,r[e.nextSlide]),d(r,e,1,n),!1}function m(e,n){var i=t(n.pager);t.each(e,function(r,s){t.fn.cycle.createPagerAnchor(r,s,i,e,n)}),n.updateActivePagerLink(n.pager,n.startingSlide,n.activePagerClass)}function g(e){function i(t){return t=parseInt(t,10).toString(16),t.length<2?"0"+t:t}function r(e){for(;e&&"html"!=e.nodeName.toLowerCase();e=e.parentNode){var n=t.css(e,"background-color");if(n&&n.indexOf("rgb")>=0){var r=n.match(/\d+/g);return"#"+i(r[0])+i(r[1])+i(r[2])}if(n&&"transparent"!=n)return n}return"#ffffff"}n("applying clearType background-color hack"),e.each(function(){t(this).css("background-color",r(this))})}var v="3.0.3";t.expr[":"].paused=function(t){return t.cyclePause},t.fn.cycle=function(e,r){var o={s:this.selector,c:this.context};return 0===this.length&&"stop"!=e?!t.isReady&&o.s?(i("DOM not ready, queuing slideshow"),t(function(){t(o.s,o.c).cycle(e,r)}),this):(i("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this):this.each(function(){var a=s(this,e,r);if(a!==!1){a.updateActivePagerLink=a.updateActivePagerLink||t.fn.cycle.updateActivePagerLink,this.cycleTimeout&&clearTimeout(this.cycleTimeout),this.cycleTimeout=this.cyclePause=0,this.cycleStop=0;var l=t(this),u=a.slideExpr?t(a.slideExpr,this):l.children(),h=u.get();if(h.length<2)return i("terminating; too few slides: "+h.length),void 0;var p=c(l,u,h,a,o);if(p!==!1){var m=p.continuous?10:f(h[p.currSlide],h[p.nextSlide],p,!p.backwards);m&&(m+=p.delay||0,10>m&&(m=10),n("first timeout: "+m),this.cycleTimeout=setTimeout(function(){d(h,p,0,!a.backwards)},m))}}})},t.fn.cycle.resetState=function(e,n){n=n||e.fx,e.before=[],e.after=[],e.cssBefore=t.extend({},e.original.cssBefore),e.cssAfter=t.extend({},e.original.cssAfter),e.animIn=t.extend({},e.original.animIn),e.animOut=t.extend({},e.original.animOut),e.fxFn=null,t.each(e.original.before,function(){e.before.push(this)}),t.each(e.original.after,function(){e.after.push(this)});var i=t.fn.cycle.transitions[n];t.isFunction(i)&&i(e.$cont,t(e.elements),e)},t.fn.cycle.updateActivePagerLink=function(e,n,i){t(e).each(function(){t(this).children().removeClass(i).eq(n).addClass(i)})},t.fn.cycle.next=function(t){p(t,1)},t.fn.cycle.prev=function(t){p(t,0)},t.fn.cycle.createPagerAnchor=function(e,i,s,o,a){var c;if(t.isFunction(a.pagerAnchorBuilder)?(c=a.pagerAnchorBuilder(e,i),n("pagerAnchorBuilder("+e+", el) returned: "+c)):c='<a href="#">'+(e+1)+"</a>",c){var l=t(c);if(0===l.parents("body").length){var u=[];s.length>1?(s.each(function(){var e=l.clone(!0);t(this).append(e),u.push(e[0])}),l=t(u)):l.appendTo(s)}a.pagerAnchors=a.pagerAnchors||[],a.pagerAnchors.push(l);var h=function(n){n.preventDefault(),a.nextSlide=e;var i=a.$cont[0],r=i.cycleTimeout;r&&(clearTimeout(r),i.cycleTimeout=0);var s=a.onPagerEvent||a.pagerClick;t.isFunction(s)&&s(a.nextSlide,o[a.nextSlide]),d(o,a,1,a.currSlide<e)};/mouseenter|mouseover/i.test(a.pagerEvent)?l.hover(h,function(){}):l.bind(a.pagerEvent,h),/^click/.test(a.pagerEvent)||a.allowPagerClickBubble||l.bind("click.cycle",function(){return!1});var f=a.$cont[0],p=!1;a.pauseOnPagerHover&&l.hover(function(){p=!0,f.cyclePause++,r(f,!0,!0)},function(){p&&f.cyclePause--,r(f,!0,!0)})}},t.fn.cycle.hopsFromLast=function(t,e){var n,i=t.lastSlide,r=t.currSlide;return n=e?r>i?r-i:t.slideCount-i:i>r?i-r:i+t.slideCount-r},t.fn.cycle.commonReset=function(e,n,i,r,s,o){t(i.elements).not(e).hide(),"undefined"==typeof i.cssBefore.opacity&&(i.cssBefore.opacity=1),i.cssBefore.display="block",i.slideResize&&r!==!1&&n.cycleW>0&&(i.cssBefore.width=n.cycleW),i.slideResize&&s!==!1&&n.cycleH>0&&(i.cssBefore.height=n.cycleH),i.cssAfter=i.cssAfter||{},i.cssAfter.display="none",t(e).css("zIndex",i.slideCount+(o===!0?1:0)),t(n).css("zIndex",i.slideCount+(o===!0?0:1))},t.fn.cycle.custom=function(e,n,i,r,s,o){var a=t(e),c=t(n),l=i.speedIn,u=i.speedOut,h=i.easeIn,d=i.easeOut,f=i.animInDelay,p=i.animOutDelay;c.css(i.cssBefore),o&&(l=u="number"==typeof o?o:1,h=d=null);var m=function(){c.delay(f).animate(i.animIn,l,h,function(){r()})};a.delay(p).animate(i.animOut,u,d,function(){a.css(i.cssAfter),i.sync||m()}),i.sync&&m()},t.fn.cycle.transitions={fade:function(e,n,i){n.not(":eq("+i.currSlide+")").css("opacity",0),i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i),i.cssBefore.opacity=0}),i.animIn={opacity:1},i.animOut={opacity:0},i.cssBefore={top:0,left:0}}},t.fn.cycle.ver=function(){return v},t.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:!1,animIn:null,animInDelay:0,animOut:null,animOutDelay:0,aspect:!1,autostop:0,autostopCount:0,backwards:!1,before:null,center:null,cleartype:!t.support.opacity,cleartypeNoBg:!1,containerResize:1,containerResizeHeight:0,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:!0,metaAttr:"cycle",next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:!0,requeueTimeout:250,rev:0,shuffle:null,skipInitializationCallbacks:!1,slideExpr:null,slideResize:1,speed:1e3,speedIn:null,speedOut:null,startingSlide:e,sync:1,timeout:4e3,timeoutFn:null,updateActivePagerLink:null,width:null}}(jQuery),/*
 * jQuery Cycle Plugin Transition Definitions
 * This script is a plugin for the jQuery Cycle Plugin
 * Examples and documentation at: http://malsup.com/jquery/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version:	 2.73
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
function(t){t.fn.cycle.transitions.none=function(e,n,i){i.fxFn=function(e,n,i,r){t(n).show(),t(e).hide(),r()}},t.fn.cycle.transitions.fadeout=function(e,n,i){n.not(":eq("+i.currSlide+")").css({display:"block",opacity:1}),i.before.push(function(e,n,i,r,s,o){t(e).css("zIndex",i.slideCount+(o!==!0?1:0)),t(n).css("zIndex",i.slideCount+(o!==!0?0:1))}),i.animIn.opacity=1,i.animOut.opacity=0,i.cssBefore.opacity=1,i.cssBefore.display="block",i.cssAfter.zIndex=0},t.fn.cycle.transitions.scrollUp=function(e,n,i){e.css("overflow","hidden"),i.before.push(t.fn.cycle.commonReset);var r=e.height();i.cssBefore.top=r,i.cssBefore.left=0,i.cssFirst.top=0,i.animIn.top=0,i.animOut.top=-r},t.fn.cycle.transitions.scrollDown=function(e,n,i){e.css("overflow","hidden"),i.before.push(t.fn.cycle.commonReset);var r=e.height();i.cssFirst.top=0,i.cssBefore.top=-r,i.cssBefore.left=0,i.animIn.top=0,i.animOut.top=r},t.fn.cycle.transitions.scrollLeft=function(e,n,i){e.css("overflow","hidden"),i.before.push(t.fn.cycle.commonReset);var r=e.width();i.cssFirst.left=0,i.cssBefore.left=r,i.cssBefore.top=0,i.animIn.left=0,i.animOut.left=0-r},t.fn.cycle.transitions.scrollRight=function(e,n,i){e.css("overflow","hidden"),i.before.push(t.fn.cycle.commonReset);var r=e.width();i.cssFirst.left=0,i.cssBefore.left=-r,i.cssBefore.top=0,i.animIn.left=0,i.animOut.left=r},t.fn.cycle.transitions.scrollHorz=function(e,n,i){e.css("overflow","hidden").width(),i.before.push(function(e,n,i,r){i.rev&&(r=!r),t.fn.cycle.commonReset(e,n,i),i.cssBefore.left=r?n.cycleW-1:1-n.cycleW,i.animOut.left=r?-e.cycleW:e.cycleW}),i.cssFirst.left=0,i.cssBefore.top=0,i.animIn.left=0,i.animOut.top=0},t.fn.cycle.transitions.scrollVert=function(e,n,i){e.css("overflow","hidden"),i.before.push(function(e,n,i,r){i.rev&&(r=!r),t.fn.cycle.commonReset(e,n,i),i.cssBefore.top=r?1-n.cycleH:n.cycleH-1,i.animOut.top=r?e.cycleH:-e.cycleH}),i.cssFirst.top=0,i.cssBefore.left=0,i.animIn.top=0,i.animOut.left=0},t.fn.cycle.transitions.slideX=function(e,n,i){i.before.push(function(e,n,i){t(i.elements).not(e).hide(),t.fn.cycle.commonReset(e,n,i,!1,!0),i.animIn.width=n.cycleW}),i.cssBefore.left=0,i.cssBefore.top=0,i.cssBefore.width=0,i.animIn.width="show",i.animOut.width=0},t.fn.cycle.transitions.slideY=function(e,n,i){i.before.push(function(e,n,i){t(i.elements).not(e).hide(),t.fn.cycle.commonReset(e,n,i,!0,!1),i.animIn.height=n.cycleH}),i.cssBefore.left=0,i.cssBefore.top=0,i.cssBefore.height=0,i.animIn.height="show",i.animOut.height=0},t.fn.cycle.transitions.shuffle=function(e,n,i){var r,s=e.css("overflow","visible").width();for(n.css({left:0,top:0}),i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!0,!0,!0)}),i.speedAdjusted||(i.speed=i.speed/2,i.speedAdjusted=!0),i.random=0,i.shuffle=i.shuffle||{left:-s,top:15},i.els=[],r=0;r<n.length;r++)i.els.push(n[r]);for(r=0;r<i.currSlide;r++)i.els.push(i.els.shift());i.fxFn=function(e,n,i,r,s){i.rev&&(s=!s);var o=s?t(e):t(n);t(n).css(i.cssBefore);var a=i.slideCount;o.animate(i.shuffle,i.speedIn,i.easeIn,function(){for(var n=t.fn.cycle.hopsFromLast(i,s),c=0;n>c;c++)s?i.els.push(i.els.shift()):i.els.unshift(i.els.pop());if(s)for(var l=0,u=i.els.length;u>l;l++)t(i.els[l]).css("z-index",u-l+a);else{var h=t(e).css("z-index");o.css("z-index",parseInt(h,10)+1+a)}o.animate({left:0,top:0},i.speedOut,i.easeOut,function(){t(s?this:e).hide(),r&&r()})})},t.extend(i.cssBefore,{display:"block",opacity:1,top:0,left:0})},t.fn.cycle.transitions.turnUp=function(e,n,i){i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!0,!1),i.cssBefore.top=n.cycleH,i.animIn.height=n.cycleH,i.animOut.width=n.cycleW}),i.cssFirst.top=0,i.cssBefore.left=0,i.cssBefore.height=0,i.animIn.top=0,i.animOut.height=0},t.fn.cycle.transitions.turnDown=function(e,n,i){i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!0,!1),i.animIn.height=n.cycleH,i.animOut.top=e.cycleH}),i.cssFirst.top=0,i.cssBefore.left=0,i.cssBefore.top=0,i.cssBefore.height=0,i.animOut.height=0},t.fn.cycle.transitions.turnLeft=function(e,n,i){i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!1,!0),i.cssBefore.left=n.cycleW,i.animIn.width=n.cycleW}),i.cssBefore.top=0,i.cssBefore.width=0,i.animIn.left=0,i.animOut.width=0},t.fn.cycle.transitions.turnRight=function(e,n,i){i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!1,!0),i.animIn.width=n.cycleW,i.animOut.left=e.cycleW}),t.extend(i.cssBefore,{top:0,left:0,width:0}),i.animIn.left=0,i.animOut.width=0},t.fn.cycle.transitions.zoom=function(e,n,i){i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!1,!1,!0),i.cssBefore.top=n.cycleH/2,i.cssBefore.left=n.cycleW/2,t.extend(i.animIn,{top:0,left:0,width:n.cycleW,height:n.cycleH}),t.extend(i.animOut,{width:0,height:0,top:e.cycleH/2,left:e.cycleW/2})}),i.cssFirst.top=0,i.cssFirst.left=0,i.cssBefore.width=0,i.cssBefore.height=0},t.fn.cycle.transitions.fadeZoom=function(e,n,i){i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!1,!1),i.cssBefore.left=n.cycleW/2,i.cssBefore.top=n.cycleH/2,t.extend(i.animIn,{top:0,left:0,width:n.cycleW,height:n.cycleH})}),i.cssBefore.width=0,i.cssBefore.height=0,i.animOut.opacity=0},t.fn.cycle.transitions.blindX=function(e,n,i){var r=e.css("overflow","hidden").width();i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i),i.animIn.width=n.cycleW,i.animOut.left=e.cycleW}),i.cssBefore.left=r,i.cssBefore.top=0,i.animIn.left=0,i.animOut.left=r},t.fn.cycle.transitions.blindY=function(e,n,i){var r=e.css("overflow","hidden").height();i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i),i.animIn.height=n.cycleH,i.animOut.top=e.cycleH}),i.cssBefore.top=r,i.cssBefore.left=0,i.animIn.top=0,i.animOut.top=r},t.fn.cycle.transitions.blindZ=function(e,n,i){var r=e.css("overflow","hidden").height(),s=e.width();i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i),i.animIn.height=n.cycleH,i.animOut.top=e.cycleH}),i.cssBefore.top=r,i.cssBefore.left=s,i.animIn.top=0,i.animIn.left=0,i.animOut.top=r,i.animOut.left=s},t.fn.cycle.transitions.growX=function(e,n,i){i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!1,!0),i.cssBefore.left=this.cycleW/2,i.animIn.left=0,i.animIn.width=this.cycleW,i.animOut.left=0}),i.cssBefore.top=0,i.cssBefore.width=0},t.fn.cycle.transitions.growY=function(e,n,i){i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!0,!1),i.cssBefore.top=this.cycleH/2,i.animIn.top=0,i.animIn.height=this.cycleH,i.animOut.top=0}),i.cssBefore.height=0,i.cssBefore.left=0},t.fn.cycle.transitions.curtainX=function(e,n,i){i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!1,!0,!0),i.cssBefore.left=n.cycleW/2,i.animIn.left=0,i.animIn.width=this.cycleW,i.animOut.left=e.cycleW/2,i.animOut.width=0}),i.cssBefore.top=0,i.cssBefore.width=0},t.fn.cycle.transitions.curtainY=function(e,n,i){i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!0,!1,!0),i.cssBefore.top=n.cycleH/2,i.animIn.top=0,i.animIn.height=n.cycleH,i.animOut.top=e.cycleH/2,i.animOut.height=0}),i.cssBefore.height=0,i.cssBefore.left=0},t.fn.cycle.transitions.cover=function(e,n,i){var r=i.direction||"left",s=e.css("overflow","hidden").width(),o=e.height();i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i),i.cssAfter.display="","right"==r?i.cssBefore.left=-s:"up"==r?i.cssBefore.top=o:"down"==r?i.cssBefore.top=-o:i.cssBefore.left=s}),i.animIn.left=0,i.animIn.top=0,i.cssBefore.top=0,i.cssBefore.left=0},t.fn.cycle.transitions.uncover=function(e,n,i){var r=i.direction||"left",s=e.css("overflow","hidden").width(),o=e.height();i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!0,!0,!0),"right"==r?i.animOut.left=s:"up"==r?i.animOut.top=-o:"down"==r?i.animOut.top=o:i.animOut.left=-s}),i.animIn.left=0,i.animIn.top=0,i.cssBefore.top=0,i.cssBefore.left=0},t.fn.cycle.transitions.toss=function(e,n,i){var r=e.css("overflow","visible").width(),s=e.height();i.before.push(function(e,n,i){t.fn.cycle.commonReset(e,n,i,!0,!0,!0),i.animOut.left||i.animOut.top?i.animOut.opacity=0:t.extend(i.animOut,{left:2*r,top:-s/2,opacity:0})}),i.cssBefore.left=0,i.cssBefore.top=0,i.animIn.left=0},t.fn.cycle.transitions.wipe=function(e,n,i){var r=e.css("overflow","hidden").width(),s=e.height();i.cssBefore=i.cssBefore||{};var o;if(i.clip)if(/l2r/.test(i.clip))o="rect(0px 0px "+s+"px 0px)";else if(/r2l/.test(i.clip))o="rect(0px "+r+"px "+s+"px "+r+"px)";else if(/t2b/.test(i.clip))o="rect(0px "+r+"px 0px 0px)";else if(/b2t/.test(i.clip))o="rect("+s+"px "+r+"px "+s+"px 0px)";else if(/zoom/.test(i.clip)){var a=parseInt(s/2,10),c=parseInt(r/2,10);o="rect("+a+"px "+c+"px "+a+"px "+c+"px)"}i.cssBefore.clip=i.cssBefore.clip||o||"rect(0px 0px 0px 0px)";var l=i.cssBefore.clip.match(/(\d+)/g),u=parseInt(l[0],10),h=parseInt(l[1],10),d=parseInt(l[2],10),f=parseInt(l[3],10);i.before.push(function(e,n,i){if(e!=n){var o=t(e),a=t(n);t.fn.cycle.commonReset(e,n,i,!0,!0,!1),i.cssAfter.display="block";var c=1,l=parseInt(i.speedIn/13,10)-1;!function p(){var t=u?u-parseInt(c*(u/l),10):0,e=f?f-parseInt(c*(f/l),10):0,n=s>d?d+parseInt(c*((s-d)/l||1),10):s,i=r>h?h+parseInt(c*((r-h)/l||1),10):r;a.css({clip:"rect("+t+"px "+i+"px "+n+"px "+e+"px)"}),c++<=l?setTimeout(p,13):o.css("display","none")}()}}),t.extend(i.cssBefore,{display:"block",opacity:1,top:0,left:0}),i.animIn={left:0},i.animOut={left:0}}}(jQuery),/*! Hammer.JS - v1.0.5 - 2013-04-07
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
function(t,e){"use strict";function n(){if(!i.READY){i.event.determineEventTypes();for(var t in i.gestures)i.gestures.hasOwnProperty(t)&&i.detection.register(i.gestures[t]);i.event.onTouch(i.DOCUMENT,i.EVENT_MOVE,i.detection.detect),i.event.onTouch(i.DOCUMENT,i.EVENT_END,i.detection.detect),i.READY=!0}}var i=function(t,e){return new i.Instance(t,e||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in t,i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&navigator.userAgent.match(i.MOBILE_REGEX),i.EVENT_TYPES={},i.DIRECTION_DOWN="down",i.DIRECTION_LEFT="left",i.DIRECTION_UP="up",i.DIRECTION_RIGHT="right",i.POINTER_MOUSE="mouse",i.POINTER_TOUCH="touch",i.POINTER_PEN="pen",i.EVENT_START="start",i.EVENT_MOVE="move",i.EVENT_END="end",i.DOCUMENT=document,i.plugins={},i.READY=!1,i.Instance=function(t,e){var r=this;return n(),this.element=t,this.enabled=!0,this.options=i.utils.extend(i.utils.extend({},i.defaults),e||{}),this.options.stop_browser_behavior&&i.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),i.event.onTouch(t,i.EVENT_START,function(t){r.enabled&&i.detection.startDetect(r,t)}),this},i.Instance.prototype={on:function(t,e){for(var n=t.split(" "),i=0;n.length>i;i++)this.element.addEventListener(n[i],e,!1);return this},off:function(t,e){for(var n=t.split(" "),i=0;n.length>i;i++)this.element.removeEventListener(n[i],e,!1);return this},trigger:function(t,e){var n=i.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var r=this.element;return i.utils.hasParent(e.target,r)&&(r=e.target),r.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this}};var r=null,s=!1,o=!1;i.event={bindDom:function(t,e,n){for(var i=e.split(" "),r=0;i.length>r;r++)t.addEventListener(i[r],n,!1)},onTouch:function(t,e,n){var a=this;this.bindDom(t,i.EVENT_TYPES[e],function(c){var l=c.type.toLowerCase();if(!l.match(/mouse/)||!o){(l.match(/touch/)||l.match(/pointerdown/)||l.match(/mouse/)&&1===c.which)&&(s=!0),l.match(/touch|pointer/)&&(o=!0);var u=0;s&&(i.HAS_POINTEREVENTS&&e!=i.EVENT_END?u=i.PointerEvent.updatePointer(e,c):l.match(/touch/)?u=c.touches.length:o||(u=l.match(/up/)?0:1),u>0&&e==i.EVENT_END?e=i.EVENT_MOVE:u||(e=i.EVENT_END),u||null===r?r=c:c=r,n.call(i.detection,a.collectEventData(t,e,c)),i.HAS_POINTEREVENTS&&e==i.EVENT_END&&(u=i.PointerEvent.updatePointer(e,c))),u||(r=null,s=!1,o=!1,i.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=i.HAS_POINTEREVENTS?i.PointerEvent.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i.EVENT_TYPES[i.EVENT_START]=t[0],i.EVENT_TYPES[i.EVENT_MOVE]=t[1],i.EVENT_TYPES[i.EVENT_END]=t[2]},getTouchList:function(t){return i.HAS_POINTEREVENTS?i.PointerEvent.getTouchList():t.touches?t.touches:[{identifier:1,pageX:t.pageX,pageY:t.pageY,target:t.target}]},collectEventData:function(t,e,n){var r=this.getTouchList(n,e),s=i.POINTER_TOUCH;return(n.type.match(/mouse/)||i.PointerEvent.matchType(i.POINTER_MOUSE,n))&&(s=i.POINTER_MOUSE),{center:i.utils.getCenter(r),timeStamp:(new Date).getTime(),target:n.target,touches:r,eventType:e,pointerType:s,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return i.detection.stopDetect()}}}},i.PointerEvent={pointers:{},getTouchList:function(){var t=this,e=[];return Object.keys(t.pointers).sort().forEach(function(n){e.push(t.pointers[n])}),e},updatePointer:function(t,e){return t==i.EVENT_END?this.pointers={}:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var n={};return n[i.POINTER_MOUSE]=e.pointerType==e.MSPOINTER_TYPE_MOUSE||e.pointerType==i.POINTER_MOUSE,n[i.POINTER_TOUCH]=e.pointerType==e.MSPOINTER_TYPE_TOUCH||e.pointerType==i.POINTER_TOUCH,n[i.POINTER_PEN]=e.pointerType==e.MSPOINTER_TYPE_PEN||e.pointerType==i.POINTER_PEN,n[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},i.utils={extend:function(t,n,i){for(var r in n)t[r]!==e&&i||(t[r]=n[r]);return t},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){for(var e=[],n=[],i=0,r=t.length;r>i;i++)e.push(t[i].pageX),n.push(t[i].pageY);return{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.pageY-t.pageY,i=e.pageX-t.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){var n=Math.abs(t.pageX-e.pageX),r=Math.abs(t.pageY-e.pageY);return n>=r?t.pageX-e.pageX>0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT:t.pageY-e.pageY>0?i.DIRECTION_UP:i.DIRECTION_DOWN},getDistance:function(t,e){var n=e.pageX-t.pageX,i=e.pageY-t.pageY;return Math.sqrt(n*n+i*i)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==i.DIRECTION_UP||t==i.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(t,e){var n,i=["webkit","khtml","moz","ms","o",""];if(e&&t.style){for(var r=0;i.length>r;r++)for(var s in e)e.hasOwnProperty(s)&&(n=s,i[r]&&(n=i[r]+n.substring(0,1).toUpperCase()+n.substring(1)),t.style[n]=e[s]);"none"==e.userSelect&&(t.onselectstart=function(){return!1})}}},i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:i.utils.extend({},e),lastEvent:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);for(var e=this.current.inst.options,n=0,r=this.gestures.length;r>n;n++){var s=this.gestures[n];if(!this.stopped&&e[s.name]!==!1&&s.handler.call(s,t,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=t),t.eventType==i.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=i.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var e=this.current.startEvent;if(e&&(t.touches.length!=e.touches.length||t.touches===e.touches)){e.touches=[];for(var n=0,r=t.touches.length;r>n;n++)e.touches.push(i.utils.extend({},t.touches[n]))}var s=t.timeStamp-e.timeStamp,o=t.center.pageX-e.center.pageX,a=t.center.pageY-e.center.pageY,c=i.utils.getVelocity(s,o,a);return i.utils.extend(t,{deltaTime:s,deltaX:o,deltaY:a,velocityX:c.x,velocityY:c.y,distance:i.utils.getDistance(e.center,t.center),angle:i.utils.getAngle(e.center,t.center),direction:i.utils.getDirection(e.center,t.center),scale:i.utils.getScale(e.touches,t.touches),rotation:i.utils.getRotation(e.touches,t.touches),startEvent:e}),t},register:function(t){var n=t.defaults||{};return n[t.name]===e&&(n[t.name]=!0),i.utils.extend(i.defaults,n,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},i.gestures=i.gestures||{},i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,e){switch(t.eventType){case i.EVENT_START:clearTimeout(this.timer),i.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==i.detection.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case i.EVENT_MOVE:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case i.EVENT_END:clearTimeout(this.timer)}}},i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,e){if(t.eventType==i.EVENT_END){var n=i.detection.previous,r=!1;if(t.deltaTime>e.options.tap_max_touchtime||t.distance>e.options.tap_max_distance)return;n&&"tap"==n.name&&t.timeStamp-n.lastEvent.timeStamp<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),r=!0),(!r||e.options.tap_always)&&(i.detection.current.name="tap",e.trigger(i.detection.current.name,t))}}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==i.EVENT_END){if(e.options.swipe_max_touches>0&&t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),this.triggered=!1,e;if(!(n.options.drag_max_touches>0&&t.touches.length>n.options.drag_max_touches))switch(t.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:if(t.distance<n.options.drag_min_distance&&i.detection.current.name!=this.name)return;i.detection.current.name=this.name,(i.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var r=i.detection.current.lastEvent.direction;t.drag_locked_to_axis&&r!==t.direction&&(t.direction=i.utils.isVertical(r)?0>t.deltaY?i.DIRECTION_UP:i.DIRECTION_DOWN:0>t.deltaX?i.DIRECTION_LEFT:i.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),n.trigger(this.name+t.direction,t),(n.options.drag_block_vertical&&i.utils.isVertical(t.direction)||n.options.drag_block_horizontal&&!i.utils.isVertical(t.direction))&&t.preventDefault();break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),this.triggered=!1,e;if(!(2>t.touches.length))switch(n.options.transform_always_block&&t.preventDefault(),t.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:var r=Math.abs(1-t.scale),s=Math.abs(t.rotation);if(n.options.transform_min_scale>r&&n.options.transform_min_rotation>s)return;i.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),s>n.options.transform_min_rotation&&n.trigger("rotate",t),r>n.options.transform_min_scale&&(n.trigger("pinch",t),n.trigger("pinch"+(1>t.scale?"in":"out"),t));break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},i.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,n){return n.options.prevent_mouseevents&&t.pointerType==i.POINTER_MOUSE?(t.stopDetect(),e):(n.options.prevent_default&&t.preventDefault(),t.eventType==i.EVENT_START&&n.trigger(this.name,t),e)}},i.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==i.EVENT_END&&e.trigger(this.name,t)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=i:(t.Hammer=i,"function"==typeof t.define&&t.define.amd&&t.define("hammer",[],function(){return i}))}(this),function(t,e){"use strict";t!==e&&(Hammer.event.bindDom=function(n,i,r){t(n).on(i,function(t){var n=t.originalEvent||t;n.pageX===e&&(n.pageX=t.pageX,n.pageY=t.pageY),n.target||(n.target=t.target),n.which===e&&(n.which=n.button),n.preventDefault||(n.preventDefault=t.preventDefault),n.stopPropagation||(n.stopPropagation=t.stopPropagation),r.call(this,n)})},Hammer.Instance.prototype.on=function(e,n){return t(this.element).on(e,n)},Hammer.Instance.prototype.off=function(e,n){return t(this.element).off(e,n)},Hammer.Instance.prototype.trigger=function(e,n){var i=t(this.element);return i.has(n.target).length&&(i=t(n.target)),i.trigger({type:e,gesture:n})},t.fn.hammer=function(e){return this.each(function(){var n=t(this),i=n.data("hammer");i?i&&e&&Hammer.utils.extend(i.options,e):n.data("hammer",new Hammer(this,e||{}))})})}(window.jQuery||window.Zepto),/*
	Masked Input plugin for jQuery
	Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
	Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
	Version: 1.3.1
*/
function(t){function e(){var t=document.createElement("input"),e="onpaste";return t.setAttribute(e,""),"function"==typeof t[e]?"paste":"input"}var n,i=e()+".mask",r=navigator.userAgent,s=/iphone/i.test(r),o=/android/i.test(r);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,r){var a,c,l,u,h,d;return!e&&this.length>0?(a=t(this[0]),a.data(t.mask.dataName)()):(r=t.extend({placeholder:t.mask.placeholder,completed:null},r),c=t.mask.definitions,l=[],u=d=e.length,h=null,t.each(e.split(""),function(t,e){"?"==e?(d--,u=t):c[e]?(l.push(new RegExp(c[e])),null===h&&(h=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function a(t){for(;++t<d&&!l[t];);return t}function f(t){for(;--t>=0&&!l[t];);return t}function p(t,e){var n,i;if(!(0>t)){for(n=t,i=a(e);d>n;n++)if(l[n]){if(!(d>i&&l[n].test(_[i])))break;_[n]=_[i],_[i]=r.placeholder,i=a(i)}b(),w.caret(Math.max(h,t))}}function m(t){var e,n,i,s;for(e=t,n=r.placeholder;d>e;e++)if(l[e]){if(i=a(e),s=_[e],_[e]=n,!(d>i&&l[i].test(s)))break;n=s}}function g(t){var e,n,i,r=t.which;8===r||46===r||s&&127===r?(e=w.caret(),n=e.begin,i=e.end,i-n===0&&(n=46!==r?f(n):i=a(n-1),i=46===r?a(i):i),y(n,i),p(n,i-1),t.preventDefault()):27==r&&(w.val(k),w.caret(0,x()),t.preventDefault())}function v(e){var n,i,s,c=e.which,u=w.caret();e.ctrlKey||e.altKey||e.metaKey||32>c||c&&(u.end-u.begin!==0&&(y(u.begin,u.end),p(u.begin,u.end-1)),n=a(u.begin-1),d>n&&(i=String.fromCharCode(c),l[n].test(i)&&(m(n),_[n]=i,b(),s=a(n),o?setTimeout(t.proxy(t.fn.caret,w,s),0):w.caret(s),r.completed&&s>=d&&r.completed.call(w))),e.preventDefault())}function y(t,e){var n;for(n=t;e>n&&d>n;n++)l[n]&&(_[n]=r.placeholder)}function b(){w.val(_.join(""))}function x(t){var e,n,i=w.val(),s=-1;for(e=0,pos=0;d>e;e++)if(l[e]){for(_[e]=r.placeholder;pos++<i.length;)if(n=i.charAt(pos-1),l[e].test(n)){_[e]=n,s=e;break}if(pos>i.length)break}else _[e]===i.charAt(pos)&&e!==u&&(pos++,s=e);return t?b():u>s+1?(w.val(""),y(0,d)):(b(),w.val(w.val().substring(0,s+1))),u?e:h}var w=t(this),_=t.map(e.split(""),function(t){return"?"!=t?c[t]?r.placeholder:t:void 0}),k=w.val();w.data(t.mask.dataName,function(){return t.map(_,function(t,e){return l[e]&&t!=r.placeholder?t:null}).join("")}),w.attr("readonly")||w.one("unmask",function(){w.unbind(".mask").removeData(t.mask.dataName)}).bind("focus.mask",function(){clearTimeout(n);var t;k=w.val(),t=x(),n=setTimeout(function(){b(),t==e.length?w.caret(0,t):w.caret(t)},10)}).bind("blur.mask",function(){x(),w.val()!=k&&w.change()}).bind("keydown.mask",g).bind("keypress.mask",v).bind(i,function(){setTimeout(function(){var t=x(!0);w.caret(t),r.completed&&t==w.val().length&&r.completed.call(w)},0)}),x()}))}})}(jQuery),Skull.Modal={openModalClick:function(t){var e=$(t.currentTarget),n=e.data("target");return this.addBlackBackground(),this.showModal(n),void 0!=e.data("path")&&""!=$.trim(e.data("path"))&&$.get(e.data("path")).success(function(t){$(".skull-modal-body",n).html(t)}),$(".skull-modal-close",n).on("click",this.closeModalClick),!1},showModal:function(t){$(t).fadeIn("fast")},closeModalClick:function(t){var e=$(t.currentTarget),n=e.parent().parent().closest(".skull-modal");n.fadeOut("fast"),this.removeBlackBackground()},addBlackBackground:function(){$("body").prepend('<div class="skull-modal-blackbg"></div>')},removeBlackBackground:function(){$(".skull-modal-blackbg").length>0&&$(".skull-modal-blackbg").fadeOut("fast").remove()}};var Mobify=window.Mobify=window.Mobify||{};Mobify.$=Mobify.$||window.Zepto||window.jQuery,Mobify.UI=Mobify.UI?Mobify.$.extend(Mobify.UI,{classPrefix:"m-"}):{classPrefix:"m-"},function(t,e){t.support=t.support||{},t.extend(t.support,{touch:"ontouchend"in e})}(Mobify.$,document),Mobify.UI.Utils=function(t){var e={},n=t.support,i=navigator.userAgent;e.events=n.touch?{down:"touchstart",move:"touchmove",up:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup"},e.getCursorPosition=n.touch?function(t){return t=t.originalEvent||t,{x:t.touches[0].clientX,y:t.touches[0].clientY}}:function(t){return{x:t.clientX,y:t.clientY}},e.getProperty=function(t){for(var e=["Webkit","Moz","O","ms",""],n=document.createElement("div").style,i=0;i<e.length;++i)if(void 0!==n[e[i]+t])return e[i]+t},t.extend(n,{transform:!!e.getProperty("Transform"),transform3d:!(!(window.WebKitCSSMatrix&&"m11"in new WebKitCSSMatrix)||/android\s+[1-2]/i.test(i))});var r=e.getProperty("Transform");e.translateX=n.transform3d?function(t,e){"number"==typeof e&&(e+="px"),t.style[r]="translate3d("+e+",0,0)"}:n.transform?function(t,e){"number"==typeof e&&(e+="px"),t.style[r]="translate("+e+",0)"}:function(t,e){"number"==typeof e&&(e+="px"),t.style.left=e};var s=(e.getProperty("Transition"),e.getProperty("TransitionDuration"));return e.setTransitions=function(t,e){t.style[s]=e?"":"0s"},e.requestAnimationFrame=function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},e=function(){t.apply(window,arguments)};return e}(),e}(Mobify.$),Mobify.UI.Scooch=function(t,e){var n={dragRadius:10,moveRadius:20,animate:!0,classPrefix:void 0,classNames:{outer:"scooch",inner:"scooch-inner",item:"item",center:"center",touch:"has-touch",dragging:"dragging",active:"active",fluid:"fluid"}},i=t.support,r=function(t,e){this.setOptions(e),this.initElements(t),this.initOffsets(),this.initAnimation(),this.bind(),this._updateCallbacks=[]};return r.defaults=n,r.prototype.setOptions=function(e){var i=this.options||t.extend({},n,e);i.classNames=t.extend({},i.classNames,e.classNames||{}),i.classPrefix=i.classPrefix||Mobify.UI.classPrefix,this.options=i},r.prototype.initElements=function(e){this._index=1,this.element=e,this.$element=t(e),this.$inner=this.$element.find("."+this._getClass("inner")),this.$items=this.$inner.children(),this.$start=this.$items.eq(0),this.$sec=this.$items.eq(1),this.$current=this.$items.eq(this._index-1),this._length=this.$items.length,this._alignment=this.$element.hasClass(this._getClass("center"))?.5:0,this._isFluid=this.$element.hasClass(this._getClass("fluid"))},r.prototype.initOffsets=function(){this._offsetDrag=0},r.prototype.initAnimation=function(){this.animating=!1,this.dragging=!1,this._needsUpdate=!1,this._enableAnimation()},r.prototype._getClass=function(t){return this.options.classPrefix+this.options.classNames[t]},r.prototype._enableAnimation=function(){this.animating||(e.setTransitions(this.$inner[0],!0),this.$inner.removeClass(this._getClass("dragging")),this.animating=!0)},r.prototype._disableAnimation=function(){this.animating&&(e.setTransitions(this.$inner[0],!1),this.$inner.addClass(this._getClass("dragging")),this.animating=!1)},r.prototype.refresh=function(){this.$items=this.$inner.children("."+this._getClass("item")),this.$start=this.$items.eq(0),this.$sec=this.$items.eq(1),this._length=this.$items.length,this.update()},r.prototype.update=function(t){if("undefined"!=typeof t&&this._updateCallbacks.push(t),!this._needsUpdate){this._needsUpdate=!0;var n=this;e.requestAnimationFrame(function(){n._update(),setTimeout(function(){for(var t=0,e=n._updateCallbacks.length;e>t;t++)n._updateCallbacks[t].call(n);n._updateCallbacks=[]},10)})}},r.prototype._update=function(){if(this._needsUpdate){var t=this.$current,n=this.$start,i=t.prop("offsetLeft")+t.prop("clientWidth")*this._alignment,r=n.prop("offsetLeft")+n.prop("clientWidth")*this._alignment,s=Math.round(-(i-r)+this._offsetDrag);e.translateX(this.$inner[0],s),this._needsUpdate=!1}},r.prototype.bind=function(){function n(t){i.touch||t.preventDefault(),d=!0,f=!1,a=e.getCursorPosition(t),c=0,l=0,u=!1,m._disableAnimation(),b=1==m._index,x=m._index==m._length}function r(t){if(d&&!f){var n=e.getCursorPosition(t),i=m.$element.width();c=a.x-n.x,l=a.y-n.y,u||h(c)>h(l)&&h(c)>p?(u=!0,t.preventDefault(),b&&0>c?c=c*-i/(c-i):x&&c>0&&(c=c*i/(c+i)),m._offsetDrag=-c,m.update()):h(l)>h(c)&&h(l)>p&&(f=!0)}}function s(){d&&(d=!1,m._enableAnimation(),!f&&h(c)>y.moveRadius?c>0?m.next():m.prev():(m._offsetDrag=0,m.update()))}function o(t){u&&t.preventDefault()}var a,c,l,u,h=Math.abs,d=!1,f=!1,p=this.options.dragRadius,m=this,g=this.$element,v=this.$inner,y=this.options,b=!1,x=!1,w=t(window).width();v.on(e.events.down+".scooch",n).on(e.events.move+".scooch",r).on(e.events.up+".scooch",s).on("click.scooch",o).on("mouseout.scooch",s),g.on("click","[data-m-slide]",function(e){e.preventDefault();var n=t(this).attr("data-m-slide"),i=parseInt(n,10);isNaN(i)?m[n]():m.move(i)}),g.on("afterSlide",function(t,e,n){m.$items.eq(e-1).removeClass(m._getClass("active")),m.$items.eq(n-1).addClass(m._getClass("active")),m.$element.find("[data-m-slide='"+e+"']").removeClass(m._getClass("active")),m.$element.find("[data-m-slide='"+n+"']").addClass(m._getClass("active"))}),t(window).on("resize orientationchange",function(){w!=t(window).width()&&(m._disableAnimation(),w=t(window).width(),m.update())}),g.trigger("beforeSlide",[1,1]),g.trigger("afterSlide",[1,1]),m.update()},r.prototype.unbind=function(){this.$inner.off()},r.prototype.destroy=function(){this.unbind(),this.$element.trigger("destroy"),this.$element.remove(),this.$element=null,this.$inner=null,this.$start=null,this.$current=null},r.prototype.move=function(e,n){var i=this.$element,r=(this.$inner,this.$items),s=(this.$start,this.$current),o=this._length,a=this._index;n=t.extend({},this.options,n),1>e?e=1:e>this._length&&(e=o),e==this._index,n.animate?this._enableAnimation():this._disableAnimation(),i.trigger("beforeSlide",[a,e]),this.$current=s=r.eq(e-1),this._offsetDrag=0,this._index=e,n.animate?this.update():this.update(function(){this._enableAnimation()}),i.trigger("afterSlide",[a,e])},r.prototype.next=function(){this.move(this._index+1)},r.prototype.prev=function(){this.move(this._index-1)},r}(Mobify.$,Mobify.UI.Utils),function(t){t.fn.scooch=function(e,n){var i=t.extend({},t.fn.scooch.defaults);"object"==typeof e&&(t.extend(i,e,!0),n=null,e=null);var n=Array.prototype.slice.apply(arguments);return this.each(function(){var r=(t(this),this._scooch);r||(r=new Mobify.UI.Scooch(this,i)),e&&(r[e].apply(r,n.slice(1)),"destroy"===e&&(r=null)),this._scooch=r}),this},t.fn.scooch.defaults={}}(Mobify.$),Skull.Tabs={selectTab:function(t,e){t.siblings(".selected").removeClass("selected"),t.addClass("selected"),e.siblings(":visible").hide(),e.show(),this.trigger("selectTab")},onTabClick:function(t){var e=$(t.target),n=this.$(e.data("target"));return this.loadTab(n),this.selectTab(e,n),!1},loadTab:function(t){""==$.trim(t.html())&&t.data("path")&&$.get(t.data("path")).success(function(e){t.html(e)})}},Skull.TimedInput={timeout:1e3,setupTimedInput:function(){this.$el.keyup(this.setTimer)},setTimer:function(t){var e=this;this.timeoutID&&window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(function(){e.$el.trigger("timedKeyup",t)},this.timeout)}},!function(t,e,n){var i,r=t.getElementsByTagName(e)[0];t.getElementById(n)||(i=t.createElement(e),i.id=n,i.src="//platform.twitter.com/widgets.js",r.parentNode.insertBefore(i,r))}(document,"script","twitter-wjs"),App.addChild("AdmUsers",{el:'#main_content[data-controller-class="adm::userscontroller"]',events:{"click [data-sort]":"sort"},activate:function(){this.form=this.$(".bootstrap-form form"),this.table=this.$(".data-table"),this.selectSorting()},getSorting:function(){var t=this.form.find("[name=order_by]");0==t.val().length&&t.val("coalesce(user_totals.sum,0) DESC");var e=t.val().split(" ");return{field:e[0],order:e[1]}},selectSorting:function(){var t=this.$('a[data-sort="'+this.getSorting().field+'"]'),e=t.siblings("span.sort-order");this.$("[data-sort]").siblings("span.sort-order").html(""),"DESC"==this.getSorting().order?e.html("(desc)"):e.html("(asc)")},sort:function(t){var e=$(t.target),n=this.form.find("[name=order_by]");return n.val(e.data("sort")+" "+("ASC"==this.getSorting().order?"DESC":"ASC")),this.selectSorting(),this.form.submit(),!1}}),App.addChild("Backer",_.extend({el:"form#backer_form",events:{"change #backer_value":"resetReward","click input[type=radio]":"clickReward","click #backer_anonymous":"clickAnonymous","change #backer_credits":"checkCredits"},checkCredits:function(t){t.currentTarget.checked&&parseInt(this.credits.val())<parseInt(this.value.val())&&(this.value.val(this.credits.val()),this.resetReward())},clickAnonymous:function(){$("#anonymous_warning").fadeToggle()},clickReward:function(t){var e=this.$(t.currentTarget);this.selectReward(e),this.value.val(this.reward().minimum_value)},reward:function(){var t=this.$("input[type=radio]:checked");return t.length>0?_.find(this.rewards,function(e){return e.id==t.val()}):void 0},selectReward:function(t){this.choices.removeClass("selected"),t.prop("checked",!0),t.parents(".choice:first").addClass("selected")},resetReward:function(){var t=this.reward();if(t){var e=this.value.val();(!/^(\d+)$/.test(e)||parseInt(e)<t.minimum_value)&&this.selectReward(this.$("#backer_reward_id"))}},activate:function(){this.value=this.$("#backer_value"),this.rewards=this.value.data("rewards"),this.choices=this.$("li.choice"),this.credits=this.$("#credits"),this.selectReward(this.$("input[type=radio]:checked")),this.setupForm()}},Skull.Form)),App.addChild("FeedbackSupport",{el:"#bootstrap-feedback",events:{'click .feedback-support[data-toggle="closed"]':"openFeedbackSupport",'click .feedback-support[data-toggle="opened"] .toggle':"closeFeedbackSupport"},activate:function(){this.$feedbackSupportClosed=this.$('.feedback-support[data-toggle="closed"]').addClass("closed"),this.$feedbackSupportOpened=this.$('.feedback-support[data-toggle="opened"]')},openFeedbackSupport:function(){this.$feedbackSupportClosed.fadeOut("fast"),this.$feedbackSupportOpened.fadeIn("slow")},closeFeedbackSupport:function(){this.$feedbackSupportOpened.fadeOut("fast"),this.$feedbackSupportClosed.fadeIn("slow")}}),App.addChild("Explore",_.extend({el:'#main_content[data-action="index"][data-controller-name="explore"]',routeFilters:{recent:{recent:!0},expiring:{expiring:!0},recommended:{recommended:!0},successful:{successful:!0}},activate:function(){this.$loader=this.$("#loading img"),this.$loaderDiv=this.$("#loading"),this.$results=this.$(".results"),this.path=this.$("#explore_results").data("projects-path"),this.route("recommended"),this.route("expiring"),this.route("recent"),this.route("successful"),this.route("by_category_id/:id"),this.route("near_of/:state"),this.setInitialFilter(),this.setupScroll(),""==window.location.hash&&this.fetchPage()},selectLink:function(){this.$("a.selected").removeClass("selected"),this.$('a[href="'+window.location.hash+'"]').addClass("selected")},followRoute:function(t,e,n){this.filter={},this.filter[e]=n.length>0?n[0]:!0,this.firstPage(),this.fetchPage(),this.parent&&this.parent.$search.length>0&&this.parent.$search.val(""),this.selectLink()},setInitialFilter:function(){var t=null;this.filter=this.parent&&(t=this.parent.$search.val())?{pg_search:t}:{recommended:!0,not_expired:!0}}},Skull.InfiniteScroll)),App.addChild("MixPanel",{el:"body",activate:function(){this.user=null,this.trackUserClickOnProjectsImage(),this.trackUserClickOnProjectsTitle(),this.trackUserClickOnBackButton(),this.trackUserClickOnRecommendedProject(),this.trackUserClickOnReviewAndMakePayment(),this.trackUserClickOnAcceptTerms(),this.trackUserClickOnPaymentButton(),this.trackUserClickOnReward()},identifyUser:function(){this.user=this.$el.data("user"),this.user&&(mixpanel.name_tag(this.user.id+"-"+this.user.name),mixpanel.identify(this.user.id))},trackOnMixPanel:function(t,e,n,i){var r=this;this.$(t).on(e,function(){r.identifyUser();var t=$(this),e=null!=r.user?r.user.id:null,s=void 0!=t.attr("href")?t.attr("href"):null,o=i||{},a={"page name":document.title,user_id:e,project:s,url:window.location},o=$.fn.extend(a,o);mixpanel.track(n,o)})},trackUserClickOnReward:function(){this.trackOnMixPanel("#rewards .clickable","click","Clicked on a reward"),this.trackOnMixPanel("#rewards .clickable_owner span.avaliable","click","Clicked on a reward")},trackUserClickOnRecommendedProject:function(){this.trackOnMixPanel("#recommended_header h2","click","Clicked on a recommended banner")},trackUserClickOnReviewAndMakePayment:function(){this.trackOnMixPanel("input#backer_submit","click","Clicked on Review and Make Payment")},trackUserClickOnAcceptTerms:function(){this.trackOnMixPanel('label[for="accept"]',"click","Accepted terms of use")},trackUserClickOnPaymentButton:function(){this.trackOnMixPanel('form.moip input[type="submit"]',"click","Made a payment")},trackUserClickOnBackButton:function(){this.trackOnMixPanel("#back_project_form input","click","Clicked on Back this project")},trackUserClickOnProjectsImage:function(){this.trackOnMixPanel(".box .cover a","click","Clicked on a projects image @ homepage")},trackUserClickOnProjectsTitle:function(){this.trackOnMixPanel(".project_content h4","click","Clicked on a project's link box")}}),App.addChild("Payment",_.extend({el:'#main_content[data-action="create"][data-controller-name="backers"] #payment',events:{"click #payment_menu a":"onTabClick"},activate:function(){this.onTabClick({target:this.$("#payment_menu a:first")}),this.on("selectTab",this.updatePaymentMethod)},updatePaymentMethod:function(){var t=this.$("#payment_menu a.selected");$.post(this.$el.data("update-info-path"),{backer:{payment_method:t.prop("id")}})}},Skull.Tabs)),App.addChild("Project",_.extend({el:'#main_content[data-action="show"][data-controller-name="projects"]',events:{"click #toggle_warning a":"toggleWarning","click a#embed_link":"toggleEmbed"},activate:function(){this.$warning=this.$("#project_warning_text"),this.$embed=this.$("#project_embed"),this.route("about"),this.route("updates"),this.route("backers"),this.route("comments"),this.route("edit"),this.route("reports")},toggleWarning:function(){return this.$warning.slideToggle("slow"),!1},toggleEmbed:function(){return this.loadEmbed(),this.$embed.slideToggle("slow"),!1},followRoute:function(){var t=this.$('nav#project_menu a[href="'+window.location.hash+'"]');t.length>0&&this.onTabClick({target:t})},loadEmbed:function(){var t=this;this.$embed.find(".loader").length>0&&$.get(this.$embed.data("path")).success(function(e){t.$embed.html(e)})}},Skull.Tabs)),App.views.Project.addChild("ProjectBackers",_.extend({el:"#project_backers",activate:function(){this.$loader=this.$("#backers-loading img"),this.$loaderDiv=this.$("#backers-loading"),this.$results=this.$(".results"),this.path=this.$el.data("path"),this.filter={available_to_count:!0},this.setupScroll(),this.parent.on("selectTab",this.fetchPage)},events:{"click input[type='radio'][name=backer_state]":"showBackers"},showBackers:function(){var t=$("input:radio[name=backer_state]:checked").val();this.filter={},this.filter[t]=!0,this.firstPage(),this.fetchPage()}},Skull.InfiniteScroll)),App.views.Project.addChild("ProjectComments",{el:"#project_comments",activate:function(){this.parent.on("selectTab",this.render)},render:function(){this.$el.is(":visible")&&(this.$el.html('<div class="fb-comments" data-href='+$("#project_comments").data("url")+' data-num-posts=50 data-width="610"></div>'),FB.XFBML.parse())}}),App.views.Project.addChild("ProjectSidebar",{el:".sidebar",events:{"click .show_reward_form":"showRewardForm","click #rewards .box.clickable":"selectReward"},selectReward:function(t){var e=this.$(t.currentTarget).data("new_backer_url");return this.navigate(e),!1},activate:function(){this.$rewards=this.$("#rewards"),this.sortableRewards(),this.reloadRewards()},reloadRewards:function(){var t=this;$.get(t.$rewards.data("index_path")).success(function(e){t.$rewards.html(e)})},sortableRewards:function(){1==this.$rewards.data("can_update")&&this.$rewards.sortable({axis:"y",placeholder:"ui-state-highlight",start:function(t,e){return e.placeholder.height(e.item.height())},stop:function(t,e){return e.item.effect("highlight",{},1e3)},update:function(t,e){var n,i;return i=$("#rewards .sortable").index(e.item),n=$("meta[name='csrf-token']").attr("content"),$.ajax({type:"POST",url:e.item.data("update_url"),dataType:"json",headers:{"X-CSRF-Token":n},data:{reward:{row_order_position:i}}})}})},showRewardForm:function(t){t.preventDefault();var e=this.$(t.currentTarget);e.fadeOut("fast"),$.get(e.data("path")).success(function(t){$(e.data("target")).html(t)}),this.$(e.data("target")).fadeIn("fast")}}),App.views.Project.addChild("Updates",_.extend({el:"#project_updates",events:{"ajax:success .results .update":"onUpdateDestroy","ajax:success form#new_update":"onUpdateCreate"},onUpdateCreate:function(t,e){$(".ghost-flash").addClass("flash").removeClass("hide","ghost-flash"),app.flash(),this.$results.prepend(e)},activate:function(){this.$loader=this.$("#updates-loading img"),this.$loaderDiv=this.$("#updates-loading"),this.$results=this.$(".results"),this.path=this.$el.data("path"),this.filter={},this.setupScroll(),this.parent.on("selectTab",this.fetchPage),this.on("scroll:success",this.parseXFBML)},parseXFBML:function(){this.$el.is(":visible")&&FB.XFBML.parse()},updates:function(){return this.$(".results .update")},onUpdateDestroy:function(t){var e=$(t.currentTarget);e.remove(),this.parent.$("a#updates_link .count").html(" ("+this.updates().length+")")}},Skull.InfiniteScroll)),App.addChild("ProjectForm",_.extend({el:"form#project_form",events:{"blur input":"checkInput"},activate:function(){this.setupForm()}},Skull.Form)),App.views.ProjectForm.addChild("VideoUrl",_.extend({el:"input#project_video_url",events:{timedKeyup:"checkVideoUrl"},checkVideoUrl:function(){var t=this;$.get(this.$el.data("path")+"?url="+encodeURIComponent(this.$el.val())).success(function(e){e&&e.video_id||t.$el.trigger("invalid")})},activate:function(){this.setupTimedInput()}},Skull.TimedInput)),App.views.ProjectForm.addChild("Permalink",_.extend({el:"input#project_permalink",events:{timedKeyup:"checkPermalink"},checkPermalink:function(){var t=this;this.re.test(this.$el.val())&&$.get("/pt/"+this.$el.val()).complete(function(e){404!=e.status&&t.$el.trigger("invalid")})},activate:function(){this.re=new RegExp(this.$el.prop("pattern")),this.setupTimedInput()}},Skull.TimedInput)),App.addChild("Registration",{el:'#catarse_bootstrap[data-controller-name="registrations"]',events:{"change input#show_password":"showPassword"},activate:function(){this.$password_input=this.$("input#user_password")},showPassword:function(t){var e=this.$(t.target);return e.prop("checked")?this.$password_input.prop("type","text"):this.$password_input.prop("type","password"),!1}}),App.addChild("ReviewForm",_.extend({el:"form#review_form",events:{"blur input":"checkInput","click #accept":"acceptTerms","click #live_in_brazil":"toggleAddressFields"},toggleAddressFields:function(){this.$("fieldset.address_data").fadeToggle()},acceptTerms:function(){return this.validate()?($("#payment").show(),this.updateBacker(),void 0):!1},activate:function(){this.setupForm(),0==this.$("#live_in_brazil:checked").length&&this.$("fieldset.address_data").hide()},updateBacker:function(){var t={payer_name:this.$("#user_full_name").val(),payer_email:this.$("#user_email").val(),address_street:this.$("#user_address_street").val(),address_number:this.$("#user_address_number").val(),address_complement:this.$("#user_address_complement").val(),address_neighbourhood:this.$("#user_address_neighbourhood").val(),address_zip_code:this.$("#user_address_zip_code").val(),address_city:this.$("#user_address_city").val(),address_state:this.$("#user_address_state").val(),address_phone_number:this.$("#user_phone_number").val()};$.post(this.$el.data("update-info-path"),{backer:t})}},Skull.Form)),App.addChild("User",_.extend({el:'#main_content[data-action="show"][data-controller-name="users"]',activate:function(){this.route("backs"),this.route("projects"),this.route("credits"),this.route("settings"),this.route("unsubscribes")},followRoute:function(){var t=this.$('nav#user_profile_menu a[href="'+window.location.hash+'"]');t.length>0&&this.onTabClick({target:t})}},Skull.Tabs)),App.views.User.addChild("UserBackers",_.extend({el:"#user_backed_projects",activate:function(){this.$loader=this.$(".loading img"),this.$loaderDiv=this.$(".loading"),this.$results=this.$(".results"),this.path=this.$el.data("path"),this.filter={},this.setupScroll(),this.fetchPage()}},Skull.InfiniteScroll)),App.views.User.addChild("UserProjects",_.extend({el:"#user_created_projects",activate:function(){var t=this;this.$loader=this.$(".loading img"),this.$loaderDiv=this.$(".loading"),this.$results=this.$(".results"),this.path=this.$el.data("path"),this.filter={},this.setupScroll(),this.parent.on("selectTab",function(){t.$el.is(":visible")&&t.fetchPage()})}},Skull.InfiniteScroll)),function(t){window.NestedFormEvents=function(){this.addFields=t.proxy(this.addFields,this),this.removeFields=t.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(e){var n=e.currentTarget,i=t(n).data("association"),r=t("#"+t(n).data("blueprint-id")),s=r.data("blueprint"),o=(t(n).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(o)for(var a=o.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],c=o.match(/[0-9]+/g)||[],l=0;l<a.length;l++)c[l]&&(s=s.replace(new RegExp("(_"+a[l]+")_.+?_","g"),"$1_"+c[l]+"_"),s=s.replace(new RegExp("(\\["+a[l]+"\\])\\[.+?\\]","g"),"$1["+c[l]+"]"));var u=new RegExp("new_"+i,"g"),h=this.newId();s=t.trim(s.replace(u,h));var d=this.insertFields(s,i,n);return d.trigger({type:"nested:fieldAdded",field:d}).trigger({type:"nested:fieldAdded:"+i,field:d}),!1},newId:function(){return(new Date).getTime()},insertFields:function(e,n,i){var r=t(i).data("target");return r?t(e).appendTo(t(r)):t(e).insertBefore(i)},removeFields:function(e){var n=t(e.currentTarget),i=n.data("association"),r=n.prev("input[type=hidden]");r.val("1");var s=n.closest(".fields");return s.hide(),s.trigger({type:"nested:fieldRemoved",field:s}).trigger({type:"nested:fieldRemoved:"+i,field:s}),!1}},window.nestedFormEvents=new NestedFormEvents,t(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),/*
 * Copyright 2011, Tobias Lindig
 *
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 */
function(t){t.fn.closestChild=function(e){if(e&&""!=e){var n=[];for(n.push(this);n.length>0;)for(var i=n.shift(),r=i.children(),s=0;s<r.length;++s){var o=t(r[s]);if(o.is(e))return o;n.push(o)}}return t()}}(jQuery);